{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-25332", "model_patch": "diff --git a/lib/matplotlib/text.py b/lib/matplotlib/text.py\nindex 92db988..9edb16d 100644\n--- a/lib/matplotlib/text.py\n+++ b/lib/matplotlib/text.py\n@@ -236,6 +236,13 @@ class Text(Artist):\n         d = super().__getstate__()\n         # remove the cached _renderer (if it exists)\n         d['_renderer'] = None\n+        # Convert any weak references to their targets or None\n+        for k, v in list(d.items()):\n+            if isinstance(v, type(weakref.ref(object()))):\n+                try:\n+                    d[k] = v()  # Get the referenced object\n+                except (ValueError, ReferenceError):\n+                    d[k] = None  # Reference is dead\n         return d\n \n     def contains(self, mouseevent):\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/text.py b/lib/matplotlib/text.py\nindex 489c66c..a9f6432 100644\n--- a/lib/matplotlib/text.py\n+++ b/lib/matplotlib/text.py\n@@ -90,6 +90,12 @@ class Text(Artist):\n     def __getstate__(self):\n         d = super().__getstate__()\n         d['_renderer'] = None\n+        for k, v in list(d.items()):\n+            if isinstance(v, type(weakref.ref(object()))):\n+                try:\n+                    d[k] = v()\n+                except (ValueError, ReferenceError):\n+                    d[k] = None\n         return d\n     def contains(self, mouseevent):\n         inside, info = self._default_contains(mouseevent)\n", "normalized_occurrence": 1}
