{"model_name_or_path": "agentless", "instance_id": "pydata__xarray-3305", "model_patch": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex baab678..1723676 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -2822,7 +2822,12 @@ class DataArray(AbstractArray, DataWithCoords):\n           * time     (time) datetime64[ns] 2000-01-03 2000-01-04 2000-01-05 ...\n         \"\"\"\n         ds = self._to_temp_dataset().sortby(variables, ascending=ascending)\n-        return self._from_temp_dataset(ds)\n+        result = self._from_temp_dataset(ds)\n+        \n+        if keep_attrs:\n+            result.attrs = self.attrs\n+\n+        return result\n \n     def quantile(\n         self,\n@@ -2875,7 +2880,12 @@ class DataArray(AbstractArray, DataWithCoords):\n         ds = self._to_temp_dataset().quantile(\n             q, dim=dim, keep_attrs=keep_attrs, interpolation=interpolation\n         )\n-        return self._from_temp_dataset(ds)\n+        result = self._from_temp_dataset(ds)\n+        \n+        if keep_attrs:\n+            result.attrs = self.attrs\n+\n+        return result\n \n     def rank(\n         self, dim: Hashable, pct: bool = False, keep_attrs: bool = None\n", "occurrence": 1, "normalized_patch": "diff --git a/xarray/core/dataarray.py b/xarray/core/dataarray.py\nindex 85617db..52ab9e6 100644\n--- a/xarray/core/dataarray.py\n+++ b/xarray/core/dataarray.py\n@@ -754,10 +754,16 @@ class DataArray(AbstractArray, DataWithCoords):\n         return computation.dot(self, other, dims=dims)\n     def sortby(self, variables: Union[Hashable, 'DataArray', Sequence[Union[Hashable, 'DataArray']]], ascending: bool=True) -> 'DataArray':\n         ds = self._to_temp_dataset().sortby(variables, ascending=ascending)\n-        return self._from_temp_dataset(ds)\n+        result = self._from_temp_dataset(ds)\n+        if keep_attrs:\n+            result.attrs = self.attrs\n+        return result\n     def quantile(self, q: Any, dim: Union[Hashable, Sequence[Hashable], None]=None, interpolation: str='linear', keep_attrs: bool=None) -> 'DataArray':\n         ds = self._to_temp_dataset().quantile(q, dim=dim, keep_attrs=keep_attrs, interpolation=interpolation)\n-        return self._from_temp_dataset(ds)\n+        result = self._from_temp_dataset(ds)\n+        if keep_attrs:\n+            result.attrs = self.attrs\n+        return result\n     def rank(self, dim: Hashable, pct: bool=False, keep_attrs: bool=None) -> 'DataArray':\n         ds = self._to_temp_dataset().rank(dim, pct=pct, keep_attrs=keep_attrs)\n         return self._from_temp_dataset(ds)\n", "normalized_occurrence": 35}
