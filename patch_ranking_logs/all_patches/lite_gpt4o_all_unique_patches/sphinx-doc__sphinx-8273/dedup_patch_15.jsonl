{"model_name_or_path": "agentless", "instance_id": "sphinx-doc__sphinx-8273", "model_patch": "diff --git a/sphinx/builders/manpage.py b/sphinx/builders/manpage.py\nindex cf59c0a..55b671a 100644\n--- a/sphinx/builders/manpage.py\n+++ b/sphinx/builders/manpage.py\n@@ -80,7 +80,9 @@ class ManualPageBuilder(Builder):\n             docsettings.authors = authors\n             docsettings.section = section\n \n-            targetname = '%s.%s' % (name, section)\n+            section_dir = 'man{}/'.format(section)\n+            ensuredir(path.join(self.outdir, section_dir))\n+            targetname = path.join(section_dir, '%s.%s' % (name, section))\n             logger.info(darkgreen(targetname) + ' { ', nonl=True)\n             destination = FileOutput(\n                 destination_path=path.join(self.outdir, targetname),\n@@ -103,6 +105,9 @@ class ManualPageBuilder(Builder):\n         pass\n \n \n+from sphinx.util.osutil import ensuredir\n+...\n+\n def default_man_pages(config: Config) -> List[Tuple[str, str, str, List[str], int]]:\n     \"\"\" Better default man_pages settings. \"\"\"\n     filename = make_filename_from_project(config.project)\n", "occurrence": 1, "normalized_patch": "diff --git a/sphinx/builders/manpage.py b/sphinx/builders/manpage.py\nindex c2eb81a..60bd687 100644\n--- a/sphinx/builders/manpage.py\n+++ b/sphinx/builders/manpage.py\n@@ -48,7 +48,9 @@ class ManualPageBuilder(Builder):\n             docsettings.subtitle = description\n             docsettings.authors = authors\n             docsettings.section = section\n-            targetname = '%s.%s' % (name, section)\n+            section_dir = 'man{}/'.format(section)\n+            ensuredir(path.join(self.outdir, section_dir))\n+            targetname = path.join(section_dir, '%s.%s' % (name, section))\n             logger.info(darkgreen(targetname) + ' { ', nonl=True)\n             destination = FileOutput(destination_path=path.join(self.outdir, targetname), encoding='utf-8')\n             tree = self.env.get_doctree(docname)\n@@ -62,6 +64,8 @@ class ManualPageBuilder(Builder):\n             docwriter.write(largetree, destination)\n     def finish(self) -> None:\n         pass\n+from sphinx.util.osutil import ensuredir\n+...\n def default_man_pages(config: Config) -> List[Tuple[str, str, str, List[str], int]]:\n     filename = make_filename_from_project(config.project)\n     return [(config.master_doc, filename, '%s %s' % (config.project, config.release), [config.author], 1)]\n", "normalized_occurrence": 1}
