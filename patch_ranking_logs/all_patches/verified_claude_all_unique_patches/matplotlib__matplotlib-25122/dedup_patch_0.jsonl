{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-25122", "model_patch": "diff --git a/lib/matplotlib/mlab.py b/lib/matplotlib/mlab.py\nindex e9c7d39..073dc39 100644\n--- a/lib/matplotlib/mlab.py\n+++ b/lib/matplotlib/mlab.py\n@@ -395,12 +395,12 @@ def _spectral_helper(x, y=None, NFFT=None, Fs=None, detrend_func=None,\n     elif mode == 'psd':\n         result = np.conj(result) * result\n     elif mode == 'magnitude':\n-        result = np.abs(result) / np.abs(window).sum()\n+        result = np.abs(result) / window.sum()\n     elif mode == 'angle' or mode == 'phase':\n         # we unwrap the phase later to handle the onesided vs. twosided case\n         result = np.angle(result)\n     elif mode == 'complex':\n-        result /= np.abs(window).sum()\n+        result /= window.sum()\n \n     if mode == 'psd':\n \n", "occurrence": 2, "normalized_patch": "diff --git a/lib/matplotlib/mlab.py b/lib/matplotlib/mlab.py\nindex 86b6c43..b2996a8 100644\n--- a/lib/matplotlib/mlab.py\n+++ b/lib/matplotlib/mlab.py\n@@ -151,11 +151,11 @@ def _spectral_helper(x, y=None, NFFT=None, Fs=None, detrend_func=None, window=No\n     elif mode == 'psd':\n         result = np.conj(result) * result\n     elif mode == 'magnitude':\n-        result = np.abs(result) / np.abs(window).sum()\n+        result = np.abs(result) / window.sum()\n     elif mode == 'angle' or mode == 'phase':\n         result = np.angle(result)\n     elif mode == 'complex':\n-        result /= np.abs(window).sum()\n+        result /= window.sum()\n     if mode == 'psd':\n         if not NFFT % 2:\n             slc = slice(1, -1, None)\n", "normalized_occurrence": 2}
