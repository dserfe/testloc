{"model_name_or_path": "agentless", "instance_id": "pytest-dev__pytest-5787", "model_patch": "diff --git a/src/_pytest/reports.py b/src/_pytest/reports.py\nindex ba95b0e..b18e710 100644\n--- a/src/_pytest/reports.py\n+++ b/src/_pytest/reports.py\n@@ -335,6 +335,11 @@ class TestReport(BaseReport):\n             self.__class__.__name__, self.nodeid, self.when, self.outcome\n         )\n \n+        if isinstance(longrepr, ExceptionInfo):\n+            report.longrepr = longrepr.getrepr(style=item.config.getoption(\"tbstyle\", \"auto\"))\n+\n+        return report\n+\n     @classmethod\n     def from_item_and_call(cls, item, call):\n         \"\"\"\n@@ -366,7 +371,7 @@ class TestReport(BaseReport):\n                     )\n         for rwhen, key, content in item._report_sections:\n             sections.append((\"Captured {} {}\".format(key, rwhen), content))\n-        return cls(\n+        report = cls(\n             item.nodeid,\n             item.location,\n             keywords,\n@@ -378,6 +383,11 @@ class TestReport(BaseReport):\n             user_properties=item.user_properties,\n         )\n \n+        if isinstance(longrepr, ExceptionInfo):\n+            report.longrepr = longrepr.getrepr(style=item.config.getoption(\"tbstyle\", \"auto\"))\n+\n+        return report\n+\n \n class CollectReport(BaseReport):\n     when = \"collect\"\n@@ -423,4 +433,9 @@ def pytest_report_from_serializable(data):\n             return CollectReport._from_json(data)\n         assert False, \"Unknown report_type unserialize data: {}\".format(\n             data[\"_report_type\"]\n-        )\n+        )\n+\n+        if isinstance(longrepr, ExceptionInfo):\n+            report.longrepr = longrepr.getrepr(style=item.config.getoption(\"tbstyle\", \"auto\"))\n+\n+        return report\n", "occurrence": 1, "normalized_patch": "diff --git a/src/_pytest/reports.py b/src/_pytest/reports.py\nindex 3292df7..5accbcf 100644\n--- a/src/_pytest/reports.py\n+++ b/src/_pytest/reports.py\n@@ -160,6 +160,9 @@ class TestReport(BaseReport):\n         self.__dict__.update(extra)\n     def __repr__(self):\n         return '<{} {!r} when={!r} outcome={!r}>'.format(self.__class__.__name__, self.nodeid, self.when, self.outcome)\n+        if isinstance(longrepr, ExceptionInfo):\n+            report.longrepr = longrepr.getrepr(style=item.config.getoption('tbstyle', 'auto'))\n+        return report\n     @classmethod\n     def from_item_and_call(cls, item, call):\n         when = call.when\n@@ -185,7 +188,10 @@ class TestReport(BaseReport):\n                 longrepr = item._repr_failure_py(excinfo, style=item.config.getoption('tbstyle', 'auto'))\n         for rwhen, key, content in item._report_sections:\n             sections.append(('Captured {} {}'.format(key, rwhen), content))\n-        return cls(item.nodeid, item.location, keywords, outcome, longrepr, when, sections, duration, user_properties=item.user_properties)\n+        report = cls(item.nodeid, item.location, keywords, outcome, longrepr, when, sections, duration, user_properties=item.user_properties)\n+        if isinstance(longrepr, ExceptionInfo):\n+            report.longrepr = longrepr.getrepr(style=item.config.getoption('tbstyle', 'auto'))\n+        return report\n class CollectReport(BaseReport):\n     when = 'collect'\n     def __init__(self, nodeid, outcome, longrepr, result, sections=(), **extra):\n@@ -216,4 +222,7 @@ def pytest_report_from_serializable(data):\n             return TestReport._from_json(data)\n         elif data['_report_type'] == 'CollectReport':\n             return CollectReport._from_json(data)\n-        assert False, 'Unknown report_type unserialize data: {}'.format(data['_report_type'])\n\\ No newline at end of file\n+        assert False, 'Unknown report_type unserialize data: {}'.format(data['_report_type'])\n+        if isinstance(longrepr, ExceptionInfo):\n+            report.longrepr = longrepr.getrepr(style=item.config.getoption('tbstyle', 'auto'))\n+        return report\n\\ No newline at end of file\n", "normalized_occurrence": 1}
