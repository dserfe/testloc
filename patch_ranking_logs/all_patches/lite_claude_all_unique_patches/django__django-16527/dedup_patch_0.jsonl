{"model_name_or_path": "agentless_claude", "instance_id": "django__django-16527", "model_patch": "diff --git a/django/contrib/admin/templatetags/admin_modify.py b/django/contrib/admin/templatetags/admin_modify.py\nindex 4d29402..1814767 100644\n--- a/django/contrib/admin/templatetags/admin_modify.py\n+++ b/django/contrib/admin/templatetags/admin_modify.py\n@@ -100,6 +100,7 @@ def submit_row(context):\n                 and context.get(\"show_delete\", True)\n             ),\n             \"show_save_as_new\": not is_popup\n+            and has_add_permission\n             and has_change_permission\n             and change\n             and save_as,\n", "occurrence": 10, "normalized_patch": "diff --git a/django/contrib/admin/templatetags/admin_modify.py b/django/contrib/admin/templatetags/admin_modify.py\nindex ce9b587..133fe96 100644\n--- a/django/contrib/admin/templatetags/admin_modify.py\n+++ b/django/contrib/admin/templatetags/admin_modify.py\n@@ -37,7 +37,7 @@ def submit_row(context):\n     can_save_and_continue = not is_popup and can_save and has_view_permission and show_save_and_continue\n     can_change = has_change_permission or has_editable_inline_admin_formsets\n     ctx = Context(context)\n-    ctx.update({'can_change': can_change, 'show_delete_link': not is_popup and context['has_delete_permission'] and change and context.get('show_delete', True), 'show_save_as_new': not is_popup and has_change_permission and change and save_as, 'show_save_and_add_another': can_save_and_add_another, 'show_save_and_continue': can_save_and_continue, 'show_save': show_save and can_save, 'show_close': not (show_save and can_save)})\n+    ctx.update({'can_change': can_change, 'show_delete_link': not is_popup and context['has_delete_permission'] and change and context.get('show_delete', True), 'show_save_as_new': not is_popup and has_add_permission and has_change_permission and change and save_as, 'show_save_and_add_another': can_save_and_add_another, 'show_save_and_continue': can_save_and_continue, 'show_save': show_save and can_save, 'show_close': not (show_save and can_save)})\n     return ctx\n @register.tag(name='submit_row')\n def submit_row_tag(parser, token):\n", "normalized_occurrence": 10}
