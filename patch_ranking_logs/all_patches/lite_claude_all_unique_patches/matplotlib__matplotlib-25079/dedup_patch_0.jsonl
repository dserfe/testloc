{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-25079", "model_patch": "diff --git a/lib/matplotlib/cm.py b/lib/matplotlib/cm.py\nindex 06f543d..22039f9 100644\n--- a/lib/matplotlib/cm.py\n+++ b/lib/matplotlib/cm.py\n@@ -612,7 +612,14 @@ class ScalarMappable:\n         in_init = self.norm is None\n         # Remove the current callback and connect to the new one\n         if not in_init:\n+            old_norm = self.norm\n             self.norm.callbacks.disconnect(self._id_norm)\n+            # Transfer vmin/vmax if new norm doesn't have them set\n+            if norm is not None and old_norm is not None:\n+                if getattr(norm, 'vmin', None) is None:\n+                    norm.vmin = old_norm.vmin\n+                if getattr(norm, 'vmax', None) is None:\n+                    norm.vmax = old_norm.vmax\n         self._norm = norm\n         self._id_norm = self.norm.callbacks.connect('changed',\n                                                     self.changed)\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/cm.py b/lib/matplotlib/cm.py\nindex f5a7578..e56101b 100644\n--- a/lib/matplotlib/cm.py\n+++ b/lib/matplotlib/cm.py\n@@ -189,7 +189,13 @@ class ScalarMappable:\n             return\n         in_init = self.norm is None\n         if not in_init:\n+            old_norm = self.norm\n             self.norm.callbacks.disconnect(self._id_norm)\n+            if norm is not None and old_norm is not None:\n+                if getattr(norm, 'vmin', None) is None:\n+                    norm.vmin = old_norm.vmin\n+                if getattr(norm, 'vmax', None) is None:\n+                    norm.vmax = old_norm.vmax\n         self._norm = norm\n         self._id_norm = self.norm.callbacks.connect('changed', self.changed)\n         if not in_init:\n", "normalized_occurrence": 1}
