{"model_name_or_path": "agentless_claude", "instance_id": "sympy__sympy-15017", "model_patch": "diff --git a/sympy/tensor/array/ndim_array.py b/sympy/tensor/array/ndim_array.py\nindex 0b1a18b..2bc4b7e 100644\n--- a/sympy/tensor/array/ndim_array.py\n+++ b/sympy/tensor/array/ndim_array.py\n@@ -164,6 +164,9 @@ class NDimArray(object):\n     def __len__(self):\n         \"\"\"Overload common function len(). Returns number of elements in array.\n \n+        For rank-0 arrays (scalars), returns 1 to match NumPy behavior.\n+        For other arrays, returns the total number of elements.\n+\n         Examples\n         ========\n \n@@ -173,8 +176,13 @@ class NDimArray(object):\n         [[0, 0, 0], [0, 0, 0], [0, 0, 0]]\n         >>> len(a)\n         9\n+        >>> b = MutableDenseNDimArray(5)  # scalar\n+        >>> len(b)\n+        1\n \n         \"\"\"\n+        if len(self.shape) == 0:  # rank-0 array (scalar)\n+            return 1\n         return self._loop_size\n \n     @property\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/tensor/array/ndim_array.py b/sympy/tensor/array/ndim_array.py\nindex a3ef23c..edcc389 100644\n--- a/sympy/tensor/array/ndim_array.py\n+++ b/sympy/tensor/array/ndim_array.py\n@@ -78,6 +78,8 @@ class NDimArray(object):\n             raise TypeError('Shape should contain integers only.')\n         return (tuple(shape), iterable)\n     def __len__(self):\n+        if len(self.shape) == 0:\n+            return 1\n         return self._loop_size\n     @property\n     def shape(self):\n", "normalized_occurrence": 12}
