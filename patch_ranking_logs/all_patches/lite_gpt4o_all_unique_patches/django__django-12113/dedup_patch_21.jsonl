{"model_name_or_path": "agentless", "instance_id": "django__django-12113", "model_patch": "diff --git a/django/db/backends/sqlite3/base.py b/django/db/backends/sqlite3/base.py\nindex 730e4b7..b4dc5ad 100644\n--- a/django/db/backends/sqlite3/base.py\n+++ b/django/db/backends/sqlite3/base.py\n@@ -182,21 +182,12 @@ class DatabaseWrapper(BaseDatabaseWrapper):\n             'detect_types': Database.PARSE_DECLTYPES | Database.PARSE_COLNAMES,\n             **settings_dict['OPTIONS'],\n         }\n-        # Always allow the underlying SQLite connection to be shareable\n-        # between multiple threads. The safe-guarding will be handled at a\n-        # higher level by the `BaseDatabaseWrapper.allow_thread_sharing`\n-        # property. This is necessary as the shareability is disabled by\n-        # default in pysqlite and it cannot be changed once a connection is\n-        # opened.\n-        if 'check_same_thread' in kwargs and kwargs['check_same_thread']:\n-            warnings.warn(\n-                'The `check_same_thread` option was provided and set to '\n-                'True. It will be overridden with False. Use the '\n-                '`DatabaseWrapper.allow_thread_sharing` property instead '\n-                'for controlling thread shareability.',\n-                RuntimeWarning\n-            )\n-        kwargs.update({'check_same_thread': False, 'uri': True})\n+        # Allow the underlying SQLite connection to follow the user's \n+        # `check_same_thread` setting. The safe-guarding will be handled \n+        # at a higher level by the `BaseDatabaseWrapper.allow_thread_sharing`\n+        # property if `check_same_thread` is set to False.\n+        kwargs.setdefault('check_same_thread', True)\n+        kwargs.update({'uri': True})\n         return kwargs\n \n     @async_unsafe\n", "occurrence": 1, "normalized_patch": "diff --git a/django/db/backends/sqlite3/base.py b/django/db/backends/sqlite3/base.py\nindex f4e71e4..6fcd3f3 100644\n--- a/django/db/backends/sqlite3/base.py\n+++ b/django/db/backends/sqlite3/base.py\n@@ -65,9 +65,8 @@ class DatabaseWrapper(BaseDatabaseWrapper):\n         if not settings_dict['NAME']:\n             raise ImproperlyConfigured('settings.DATABASES is improperly configured. Please supply the NAME value.')\n         kwargs = {'database': str(settings_dict['NAME']), 'detect_types': Database.PARSE_DECLTYPES | Database.PARSE_COLNAMES, **settings_dict['OPTIONS']}\n-        if 'check_same_thread' in kwargs and kwargs['check_same_thread']:\n-            warnings.warn('The `check_same_thread` option was provided and set to True. It will be overridden with False. Use the `DatabaseWrapper.allow_thread_sharing` property instead for controlling thread shareability.', RuntimeWarning)\n-        kwargs.update({'check_same_thread': False, 'uri': True})\n+        kwargs.setdefault('check_same_thread', True)\n+        kwargs.update({'uri': True})\n         return kwargs\n     @async_unsafe\n     def get_new_connection(self, conn_params):\n", "normalized_occurrence": 1}
