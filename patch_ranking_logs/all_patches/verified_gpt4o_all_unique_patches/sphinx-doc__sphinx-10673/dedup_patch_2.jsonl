{"model_name_or_path": "agentless", "instance_id": "sphinx-doc__sphinx-10673", "model_patch": "diff --git a/sphinx/builders/html/__init__.py b/sphinx/builders/html/__init__.py\nindex 516651b..28be940 100644\n--- a/sphinx/builders/html/__init__.py\n+++ b/sphinx/builders/html/__init__.py\n@@ -717,7 +717,14 @@ class StandaloneHTMLBuilder(Builder):\n             logger.info('search ', nonl=True)\n             self.handle_page('search', {}, 'search.html')\n \n-        # the opensearch xml file\n+        # generate and include genindex, modindex, and search files\n+        if self.use_index:\n+            self.write_genindex()\n+        if self.config.html_use_modindex and self.domain_indices:\n+            self.write_domain_indices()\n+        if self.search:\n+            logger.info('search ', nonl=True)\n+            self.handle_page('search', {}, 'search.html')\n         if self.config.html_use_opensearch and self.search:\n             logger.info('opensearch ', nonl=True)\n             fn = path.join(self.outdir, '_static', 'opensearch.xml')\n", "occurrence": 1, "normalized_patch": "diff --git a/sphinx/builders/html/__init__.py b/sphinx/builders/html/__init__.py\nindex b5b9117..5fa96b4 100644\n--- a/sphinx/builders/html/__init__.py\n+++ b/sphinx/builders/html/__init__.py\n@@ -436,6 +436,13 @@ class StandaloneHTMLBuilder(Builder):\n         if self.search:\n             logger.info('search ', nonl=True)\n             self.handle_page('search', {}, 'search.html')\n+        if self.use_index:\n+            self.write_genindex()\n+        if self.config.html_use_modindex and self.domain_indices:\n+            self.write_domain_indices()\n+        if self.search:\n+            logger.info('search ', nonl=True)\n+            self.handle_page('search', {}, 'search.html')\n         if self.config.html_use_opensearch and self.search:\n             logger.info('opensearch ', nonl=True)\n             fn = path.join(self.outdir, '_static', 'opensearch.xml')\n", "normalized_occurrence": 1}
