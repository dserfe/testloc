{"model_name_or_path": "agentless_claude", "instance_id": "sympy__sympy-14248", "model_patch": "diff --git a/sympy/printing/latex.py b/sympy/printing/latex.py\nindex d02494c..0a6c9c1 100644\n--- a/sympy/printing/latex.py\n+++ b/sympy/printing/latex.py\n@@ -1477,9 +1477,22 @@ class LatexPrinter(Printer):\n             return r\"%s^\\dagger\" % self._print(mat)\n \n     def _print_MatAdd(self, expr):\n-        terms = list(expr.args)\n-        tex = \" + \".join(map(self._print, terms))\n-        return tex\n+        terms = []\n+        for arg in expr.args:\n+            from sympy import MatMul, Number\n+            if isinstance(arg, MatMul) and arg.args[0] == -1:\n+                # For terms like (-1)*B, print as -B\n+                terms.append('-' + self._print(MatMul(*arg.args[1:])))\n+            elif isinstance(arg, MatMul) and isinstance(arg.args[0], Number) and arg.args[0].is_negative:\n+                # For terms with negative coefficients\n+                coeff = arg.args[0]\n+                if coeff == -1:\n+                    terms.append('-' + self._print(MatMul(*arg.args[1:])))\n+                else:\n+                    terms.append(self._print(coeff) + self._print(MatMul(*arg.args[1:])))\n+            else:\n+                terms.append(self._print(arg))\n+        return ' + '.join(terms)\n \n     def _print_MatMul(self, expr):\n         from sympy import Add, MatAdd, HadamardProduct\ndiff --git a/sympy/printing/pretty/pretty.py b/sympy/printing/pretty/pretty.py\nindex 41521ad..a85fcdd 100644\n--- a/sympy/printing/pretty/pretty.py\n+++ b/sympy/printing/pretty/pretty.py\n@@ -819,7 +819,22 @@ class PrettyPrinter(Printer):\n         return self._print(B.blocks)\n \n     def _print_MatAdd(self, expr):\n-        return self._print_seq(expr.args, None, None, ' + ')\n+        terms = []\n+        for arg in expr.args:\n+            from sympy import MatMul, Number\n+            if isinstance(arg, MatMul) and arg.args[0] == -1:\n+                # For terms like (-1)*B, print as -B\n+                terms.append(prettyForm('-') + self._print(MatMul(*arg.args[1:])))\n+            elif isinstance(arg, MatMul) and isinstance(arg.args[0], Number) and arg.args[0].is_negative:\n+                # For terms with negative coefficients\n+                coeff = arg.args[0]\n+                if coeff == -1:\n+                    terms.append(prettyForm('-') + self._print(MatMul(*arg.args[1:])))\n+                else:\n+                    terms.append(self._print(arg))\n+            else:\n+                terms.append(self._print(arg))\n+        return prettyForm.__add__(*terms, binding=prettyForm.ADD)\n \n     def _print_MatMul(self, expr):\n         args = list(expr.args)\ndiff --git a/sympy/printing/str.py b/sympy/printing/str.py\nindex 29d16bd..60608ad 100644\n--- a/sympy/printing/str.py\n+++ b/sympy/printing/str.py\n@@ -312,8 +312,22 @@ class StrPrinter(Printer):\n             for arg in expr.args])\n \n     def _print_MatAdd(self, expr):\n-        return ' + '.join([self.parenthesize(arg, precedence(expr))\n-            for arg in expr.args])\n+        terms = []\n+        for arg in expr.args:\n+            from sympy import MatMul, Number\n+            if isinstance(arg, MatMul) and arg.args[0] == -1:\n+                # For terms like (-1)*B, print as -B\n+                terms.append(\"-\" + self.parenthesize(MatMul(*arg.args[1:]), precedence(expr)))\n+            elif isinstance(arg, MatMul) and isinstance(arg.args[0], Number) and arg.args[0].is_negative:\n+                # For terms with negative coefficients\n+                coeff = arg.args[0]\n+                if coeff == -1:\n+                    terms.append(\"-\" + self.parenthesize(MatMul(*arg.args[1:]), precedence(expr)))\n+                else:\n+                    terms.append(str(coeff) + \"*\" + self.parenthesize(MatMul(*arg.args[1:]), precedence(expr)))\n+            else:\n+                terms.append(self.parenthesize(arg, precedence(expr)))\n+        return ' + '.join(terms)\n \n     def _print_NaN(self, expr):\n         return 'nan'\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/printing/str.py b/sympy/printing/str.py\nindex a98e2a9..a9425ef 100644\n--- a/sympy/printing/str.py\n+++ b/sympy/printing/str.py\n@@ -224,7 +224,20 @@ class StrPrinter(Printer):\n     def _print_HadamardProduct(self, expr):\n         return '.*'.join([self.parenthesize(arg, precedence(expr)) for arg in expr.args])\n     def _print_MatAdd(self, expr):\n-        return ' + '.join([self.parenthesize(arg, precedence(expr)) for arg in expr.args])\n+        terms = []\n+        for arg in expr.args:\n+            from sympy import MatMul, Number\n+            if isinstance(arg, MatMul) and arg.args[0] == -1:\n+                terms.append('-' + self.parenthesize(MatMul(*arg.args[1:]), precedence(expr)))\n+            elif isinstance(arg, MatMul) and isinstance(arg.args[0], Number) and arg.args[0].is_negative:\n+                coeff = arg.args[0]\n+                if coeff == -1:\n+                    terms.append('-' + self.parenthesize(MatMul(*arg.args[1:]), precedence(expr)))\n+                else:\n+                    terms.append(str(coeff) + '*' + self.parenthesize(MatMul(*arg.args[1:]), precedence(expr)))\n+            else:\n+                terms.append(self.parenthesize(arg, precedence(expr)))\n+        return ' + '.join(terms)\n     def _print_NaN(self, expr):\n         return 'nan'\n     def _print_NegativeInfinity(self, expr):\ndiff --git a/sympy/printing/pretty/pretty.py b/sympy/printing/pretty/pretty.py\nindex 928334c..08cce8f 100644\n--- a/sympy/printing/pretty/pretty.py\n+++ b/sympy/printing/pretty/pretty.py\n@@ -586,7 +586,20 @@ class PrettyPrinter(Printer):\n             return self._print(B.blocks[0, 0])\n         return self._print(B.blocks)\n     def _print_MatAdd(self, expr):\n-        return self._print_seq(expr.args, None, None, ' + ')\n+        terms = []\n+        for arg in expr.args:\n+            from sympy import MatMul, Number\n+            if isinstance(arg, MatMul) and arg.args[0] == -1:\n+                terms.append(prettyForm('-') + self._print(MatMul(*arg.args[1:])))\n+            elif isinstance(arg, MatMul) and isinstance(arg.args[0], Number) and arg.args[0].is_negative:\n+                coeff = arg.args[0]\n+                if coeff == -1:\n+                    terms.append(prettyForm('-') + self._print(MatMul(*arg.args[1:])))\n+                else:\n+                    terms.append(self._print(arg))\n+            else:\n+                terms.append(self._print(arg))\n+        return prettyForm.__add__(*terms, binding=prettyForm.ADD)\n     def _print_MatMul(self, expr):\n         args = list(expr.args)\n         from sympy import Add, MatAdd, HadamardProduct\ndiff --git a/sympy/printing/latex.py b/sympy/printing/latex.py\nindex 5c88620..ee9e904 100644\n--- a/sympy/printing/latex.py\n+++ b/sympy/printing/latex.py\n@@ -964,9 +964,20 @@ class LatexPrinter(Printer):\n         else:\n             return '%s^\\\\dagger' % self._print(mat)\n     def _print_MatAdd(self, expr):\n-        terms = list(expr.args)\n-        tex = ' + '.join(map(self._print, terms))\n-        return tex\n+        terms = []\n+        for arg in expr.args:\n+            from sympy import MatMul, Number\n+            if isinstance(arg, MatMul) and arg.args[0] == -1:\n+                terms.append('-' + self._print(MatMul(*arg.args[1:])))\n+            elif isinstance(arg, MatMul) and isinstance(arg.args[0], Number) and arg.args[0].is_negative:\n+                coeff = arg.args[0]\n+                if coeff == -1:\n+                    terms.append('-' + self._print(MatMul(*arg.args[1:])))\n+                else:\n+                    terms.append(self._print(coeff) + self._print(MatMul(*arg.args[1:])))\n+            else:\n+                terms.append(self._print(arg))\n+        return ' + '.join(terms)\n     def _print_MatMul(self, expr):\n         from sympy import Add, MatAdd, HadamardProduct\n         def parens(x):\n", "normalized_occurrence": 1}
