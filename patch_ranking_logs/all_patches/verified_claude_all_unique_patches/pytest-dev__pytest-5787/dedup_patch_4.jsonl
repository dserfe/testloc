{"model_name_or_path": "agentless_claude", "instance_id": "pytest-dev__pytest-5787", "model_patch": "diff --git a/src/_pytest/reports.py b/src/_pytest/reports.py\nindex ba95b0e..54b4bf4 100644\n--- a/src/_pytest/reports.py\n+++ b/src/_pytest/reports.py\n@@ -162,26 +162,41 @@ class BaseReport:\n         \"\"\"\n \n         def disassembled_report(rep):\n-            reprtraceback = rep.longrepr.reprtraceback.__dict__.copy()\n-            reprcrash = rep.longrepr.reprcrash.__dict__.copy()\n-\n-            new_entries = []\n-            for entry in reprtraceback[\"reprentries\"]:\n-                entry_data = {\n-                    \"type\": type(entry).__name__,\n-                    \"data\": entry.__dict__.copy(),\n+            def process_traceback(tbexceptioninfo):\n+                reprtraceback = tbexceptioninfo.reprtraceback.__dict__.copy()\n+                reprcrash = tbexceptioninfo.reprcrash.__dict__.copy()\n+\n+                new_entries = []\n+                for entry in reprtraceback[\"reprentries\"]:\n+                    entry_data = {\n+                        \"type\": type(entry).__name__,\n+                        \"data\": entry.__dict__.copy(),\n+                    }\n+                    for key, value in entry_data[\"data\"].items():\n+                        if hasattr(value, \"__dict__\"):\n+                            entry_data[\"data\"][key] = value.__dict__.copy()\n+                    new_entries.append(entry_data)\n+\n+                reprtraceback[\"reprentries\"] = new_entries\n+                return {\n+                    \"reprcrash\": reprcrash,\n+                    \"reprtraceback\": reprtraceback,\n+                    \"sections\": tbexceptioninfo.sections,\n                 }\n-                for key, value in entry_data[\"data\"].items():\n-                    if hasattr(value, \"__dict__\"):\n-                        entry_data[\"data\"][key] = value.__dict__.copy()\n-                new_entries.append(entry_data)\n \n-            reprtraceback[\"reprentries\"] = new_entries\n+            # Process the main exception\n+            mainreport = process_traceback(rep.longrepr)\n+\n+            # Process any chained exceptions\n+            chain = []\n+            if hasattr(rep.longrepr, \"chain\"):\n+                chain = [process_traceback(exc) for exc in rep.longrepr.chain]\n \n             return {\n-                \"reprcrash\": reprcrash,\n-                \"reprtraceback\": reprtraceback,\n-                \"sections\": rep.longrepr.sections,\n+                \"reprcrash\": mainreport[\"reprcrash\"],\n+                \"reprtraceback\": mainreport[\"reprtraceback\"],\n+                \"sections\": mainreport[\"sections\"],\n+                \"chain\": chain,\n             }\n \n         d = self.__dict__.copy()\n@@ -250,13 +265,24 @@ class BaseReport:\n                     unserialized_entries.append(reprentry)\n                 reprtraceback[\"reprentries\"] = unserialized_entries\n \n-                exception_info = ReprExceptionInfo(\n-                    reprtraceback=ReprTraceback(**reprtraceback),\n-                    reprcrash=ReprFileLocation(**reprcrash),\n-                )\n+                def process_exception_info(rep_dict):\n+                    exception_info = ReprExceptionInfo(\n+                        reprtraceback=ReprTraceback(**rep_dict[\"reprtraceback\"]),\n+                        reprcrash=ReprFileLocation(**rep_dict[\"reprcrash\"]),\n+                    )\n+                    for section in rep_dict[\"sections\"]:\n+                        exception_info.addsection(*section)\n+                    return exception_info\n+\n+                # Process main exception\n+                exception_info = process_exception_info(reportdict[\"longrepr\"])\n+\n+                # Process chain if it exists\n+                if \"chain\" in reportdict[\"longrepr\"]:\n+                    exception_info.chain = [\n+                        process_exception_info(exc) for exc in reportdict[\"longrepr\"][\"chain\"]\n+                    ]\n \n-                for section in reportdict[\"longrepr\"][\"sections\"]:\n-                    exception_info.addsection(*section)\n                 reportdict[\"longrepr\"] = exception_info\n \n         return cls(**reportdict)\n", "occurrence": 1, "normalized_patch": "diff --git a/src/_pytest/reports.py b/src/_pytest/reports.py\nindex 3292df7..98bd483 100644\n--- a/src/_pytest/reports.py\n+++ b/src/_pytest/reports.py\n@@ -77,17 +77,23 @@ class BaseReport:\n         return verbose\n     def _to_json(self):\n         def disassembled_report(rep):\n-            reprtraceback = rep.longrepr.reprtraceback.__dict__.copy()\n-            reprcrash = rep.longrepr.reprcrash.__dict__.copy()\n-            new_entries = []\n-            for entry in reprtraceback['reprentries']:\n-                entry_data = {'type': type(entry).__name__, 'data': entry.__dict__.copy()}\n-                for key, value in entry_data['data'].items():\n-                    if hasattr(value, '__dict__'):\n-                        entry_data['data'][key] = value.__dict__.copy()\n-                new_entries.append(entry_data)\n-            reprtraceback['reprentries'] = new_entries\n-            return {'reprcrash': reprcrash, 'reprtraceback': reprtraceback, 'sections': rep.longrepr.sections}\n+            def process_traceback(tbexceptioninfo):\n+                reprtraceback = tbexceptioninfo.reprtraceback.__dict__.copy()\n+                reprcrash = tbexceptioninfo.reprcrash.__dict__.copy()\n+                new_entries = []\n+                for entry in reprtraceback['reprentries']:\n+                    entry_data = {'type': type(entry).__name__, 'data': entry.__dict__.copy()}\n+                    for key, value in entry_data['data'].items():\n+                        if hasattr(value, '__dict__'):\n+                            entry_data['data'][key] = value.__dict__.copy()\n+                    new_entries.append(entry_data)\n+                reprtraceback['reprentries'] = new_entries\n+                return {'reprcrash': reprcrash, 'reprtraceback': reprtraceback, 'sections': tbexceptioninfo.sections}\n+            mainreport = process_traceback(rep.longrepr)\n+            chain = []\n+            if hasattr(rep.longrepr, 'chain'):\n+                chain = [process_traceback(exc) for exc in rep.longrepr.chain]\n+            return {'reprcrash': mainreport['reprcrash'], 'reprtraceback': mainreport['reprtraceback'], 'sections': mainreport['sections'], 'chain': chain}\n         d = self.__dict__.copy()\n         if hasattr(self.longrepr, 'toterminal'):\n             if hasattr(self.longrepr, 'reprtraceback') and hasattr(self.longrepr, 'reprcrash'):\n@@ -130,9 +136,14 @@ class BaseReport:\n                         _report_unserialization_failure(entry_type, cls, reportdict)\n                     unserialized_entries.append(reprentry)\n                 reprtraceback['reprentries'] = unserialized_entries\n-                exception_info = ReprExceptionInfo(reprtraceback=ReprTraceback(**reprtraceback), reprcrash=ReprFileLocation(**reprcrash))\n-                for section in reportdict['longrepr']['sections']:\n-                    exception_info.addsection(*section)\n+                def process_exception_info(rep_dict):\n+                    exception_info = ReprExceptionInfo(reprtraceback=ReprTraceback(**rep_dict['reprtraceback']), reprcrash=ReprFileLocation(**rep_dict['reprcrash']))\n+                    for section in rep_dict['sections']:\n+                        exception_info.addsection(*section)\n+                    return exception_info\n+                exception_info = process_exception_info(reportdict['longrepr'])\n+                if 'chain' in reportdict['longrepr']:\n+                    exception_info.chain = [process_exception_info(exc) for exc in reportdict['longrepr']['chain']]\n                 reportdict['longrepr'] = exception_info\n         return cls(**reportdict)\n def _report_unserialization_failure(type_name, report_class, reportdict):\n", "normalized_occurrence": 1}
