{"model_name_or_path": "agentless", "instance_id": "pytest-dev__pytest-5787", "model_patch": "diff --git a/src/_pytest/reports.py b/src/_pytest/reports.py\nindex ba95b0e..a53d57d 100644\n--- a/src/_pytest/reports.py\n+++ b/src/_pytest/reports.py\n@@ -366,6 +366,10 @@ class TestReport(BaseReport):\n                     )\n         for rwhen, key, content in item._report_sections:\n             sections.append((\"Captured {} {}\".format(key, rwhen), content))\n+        # Ensure that we capture the complete exception chain for serialization\n+        if isinstance(longrepr, ExceptionInfo) and longrepr._excinfo:\n+            longrepr = longrepr.getrepr(chain=True)\n+\n         return cls(\n             item.nodeid,\n             item.location,\n", "occurrence": 1, "normalized_patch": "diff --git a/src/_pytest/reports.py b/src/_pytest/reports.py\nindex 3292df7..aa8ab3f 100644\n--- a/src/_pytest/reports.py\n+++ b/src/_pytest/reports.py\n@@ -185,6 +185,8 @@ class TestReport(BaseReport):\n                 longrepr = item._repr_failure_py(excinfo, style=item.config.getoption('tbstyle', 'auto'))\n         for rwhen, key, content in item._report_sections:\n             sections.append(('Captured {} {}'.format(key, rwhen), content))\n+        if isinstance(longrepr, ExceptionInfo) and longrepr._excinfo:\n+            longrepr = longrepr.getrepr(chain=True)\n         return cls(item.nodeid, item.location, keywords, outcome, longrepr, when, sections, duration, user_properties=item.user_properties)\n class CollectReport(BaseReport):\n     when = 'collect'\n", "normalized_occurrence": 1}
