{"model_name_or_path": "agentless_claude", "instance_id": "django__django-12325", "model_patch": "diff --git a/django/db/models/options.py b/django/db/models/options.py\nindex 0cf39d7..57531ba 100644\n--- a/django/db/models/options.py\n+++ b/django/db/models/options.py\n@@ -240,15 +240,21 @@ class Options:\n \n         if self.pk is None:\n             if self.parents:\n-                # Promote the first parent link in lieu of adding yet another\n-                # field.\n-                field = next(iter(self.parents.values()))\n-                # Look for a local field with the same name as the\n-                # first parent link. If a local field has already been\n-                # created, use it instead of promoting the parent\n-                already_created = [fld for fld in self.local_fields if fld.name == field.name]\n-                if already_created:\n-                    field = already_created[0]\n+                # Find the parent link field - the OneToOneField with parent_link=True\n+                parent_links = [f for f in self.local_fields \n+                              if isinstance(f, OneToOneField) and \n+                              f.remote_field.parent_link]\n+                if parent_links:\n+                    field = parent_links[0]\n+                else:\n+                    # If no explicit parent link found, use the first parent field\n+                    field = next(iter(self.parents.values()))\n+                    # Look for a local field with the same name as the\n+                    # first parent link. If a local field has already been\n+                    # created, use it instead of promoting the parent\n+                    already_created = [fld for fld in self.local_fields if fld.name == field.name]\n+                    if already_created:\n+                        field = already_created[0]\n                 field.primary_key = True\n                 self.setup_pk(field)\n                 if not field.remote_field.parent_link:\n", "normalized_patch": "diff --git a/django/db/models/options.py b/django/db/models/options.py\nindex a68c94c..cb3ae31 100644\n--- a/django/db/models/options.py\n+++ b/django/db/models/options.py\n@@ -149,10 +149,14 @@ class Options:\n             self.order_with_respect_to = None\n         if self.pk is None:\n             if self.parents:\n-                field = next(iter(self.parents.values()))\n-                already_created = [fld for fld in self.local_fields if fld.name == field.name]\n-                if already_created:\n-                    field = already_created[0]\n+                parent_links = [f for f in self.local_fields if isinstance(f, OneToOneField) and f.remote_field.parent_link]\n+                if parent_links:\n+                    field = parent_links[0]\n+                else:\n+                    field = next(iter(self.parents.values()))\n+                    already_created = [fld for fld in self.local_fields if fld.name == field.name]\n+                    if already_created:\n+                        field = already_created[0]\n                 field.primary_key = True\n                 self.setup_pk(field)\n                 if not field.remote_field.parent_link:\n", "normalized_occurrence": 1}
