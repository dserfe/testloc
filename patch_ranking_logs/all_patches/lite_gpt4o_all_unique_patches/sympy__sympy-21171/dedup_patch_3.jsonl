{"model_name_or_path": "agentless", "instance_id": "sympy__sympy-21171", "model_patch": "diff --git a/sympy/printing/latex.py b/sympy/printing/latex.py\nindex c36a092..e8167ad 100644\n--- a/sympy/printing/latex.py\n+++ b/sympy/printing/latex.py\n@@ -608,6 +608,8 @@ class LatexPrinter(Printer):\n \n         if include_parens:\n             tex += \")\"\n+        if exp:\n+            tex = r\"\\left(%s\\right)^{%s}\" % (tex, exp)\n         return tex\n \n     def _print_Pow(self, expr):\n@@ -648,6 +650,8 @@ class LatexPrinter(Printer):\n             return self._print_Mul(expr)\n         else:\n             if expr.base.is_Function:\n+                if expr.base.func.__name__ == \"SingularityFunction\":\n+                    return self._print_SingularityFunction(expr.base, exp=self._print(expr.exp))\n                 return self._print(expr.base, exp=self._print(expr.exp))\n             else:\n                 tex = r\"%s^{%s}\"\n@@ -1966,16 +1970,22 @@ class LatexPrinter(Printer):\n                 self._print(expr.args[1]), self._print(expr.args[0]))\n         if exp:\n             tex = r\"\\left(%s\\right)^{%s}\" % (tex, exp)\n+        if exp:\n+            tex = r\"\\left(%s\\right)^{%s}\" % (tex, exp)\n         return tex\n \n-    def _print_SingularityFunction(self, expr):\n+    def _print_SingularityFunction(self, expr, exp=None):\n         shift = self._print(expr.args[0] - expr.args[1])\n         power = self._print(expr.args[2])\n         tex = r\"{\\left\\langle %s \\right\\rangle}^{%s}\" % (shift, power)\n+        if exp:\n+            tex = r\"\\left(%s\\right)^{%s}\" % (tex, exp)\n         return tex\n \n     def _print_Heaviside(self, expr, exp=None):\n         tex = r\"\\theta\\left(%s\\right)\" % self._print(expr.args[0])\n+        if exp:\n+            tex = r\"\\left(%s\\right)^{%s}\" % (tex, exp)\n         if exp:\n             tex = r\"\\left(%s\\right)^{%s}\" % (tex, exp)\n         return tex\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/printing/latex.py b/sympy/printing/latex.py\nindex e1fcf81..68513d7 100644\n--- a/sympy/printing/latex.py\n+++ b/sympy/printing/latex.py\n@@ -316,6 +316,8 @@ class LatexPrinter(Printer):\n                 tex += '\\\\frac{%s}{%s}' % (snumer, sdenom)\n         if include_parens:\n             tex += ')'\n+        if exp:\n+            tex = '\\\\left(%s\\\\right)^{%s}' % (tex, exp)\n         return tex\n     def _print_Pow(self, expr):\n         if expr.exp.is_Rational and abs(expr.exp.p) == 1 and (expr.exp.q != 1) and self._settings['root_notation']:\n@@ -344,6 +346,8 @@ class LatexPrinter(Printer):\n                 return '%s^{%s}' % (expr.base, expr.exp)\n             return self._print_Mul(expr)\n         elif expr.base.is_Function:\n+            if expr.base.func.__name__ == 'SingularityFunction':\n+                return self._print_SingularityFunction(expr.base, exp=self._print(expr.exp))\n             return self._print(expr.base, exp=self._print(expr.exp))\n         else:\n             tex = '%s^{%s}'\n@@ -1270,14 +1274,20 @@ class LatexPrinter(Printer):\n             tex = '\\\\delta^{\\\\left( %s \\\\right)}\\\\left( %s \\\\right)' % (self._print(expr.args[1]), self._print(expr.args[0]))\n         if exp:\n             tex = '\\\\left(%s\\\\right)^{%s}' % (tex, exp)\n+        if exp:\n+            tex = '\\\\left(%s\\\\right)^{%s}' % (tex, exp)\n         return tex\n-    def _print_SingularityFunction(self, expr):\n+    def _print_SingularityFunction(self, expr, exp=None):\n         shift = self._print(expr.args[0] - expr.args[1])\n         power = self._print(expr.args[2])\n         tex = '{\\\\left\\\\langle %s \\\\right\\\\rangle}^{%s}' % (shift, power)\n+        if exp:\n+            tex = '\\\\left(%s\\\\right)^{%s}' % (tex, exp)\n         return tex\n     def _print_Heaviside(self, expr, exp=None):\n         tex = '\\\\theta\\\\left(%s\\\\right)' % self._print(expr.args[0])\n+        if exp:\n+            tex = '\\\\left(%s\\\\right)^{%s}' % (tex, exp)\n         if exp:\n             tex = '\\\\left(%s\\\\right)^{%s}' % (tex, exp)\n         return tex\n", "normalized_occurrence": 1}
