{"model_name_or_path": "agentless", "instance_id": "astropy__astropy-14995", "model_patch": "diff --git a/astropy/nddata/nddata.py b/astropy/nddata/nddata.py\nindex 8cbdc69..ba339d9 100644\n--- a/astropy/nddata/nddata.py\n+++ b/astropy/nddata/nddata.py\n@@ -329,6 +329,24 @@ class NDData(NDDataBase):\n     def mask(self, value):\n         self._mask = value\n \n+    def _propagate_mask(self, other_mask, handle_mask):\n+        \"\"\"\n+        Propagate the mask according to the handle_mask function.\n+\n+        Parameters\n+        ----------\n+        other_mask : any type\n+            Mask from the other operand, if any.\n+\n+        handle_mask : callable or None\n+            Function to handle the propagation of the masks.\n+        \"\"\"\n+        if self.mask is None:\n+            return other_mask\n+        if other_mask is None:\n+            return self.mask\n+        return handle_mask(self.mask, other_mask)\n+\n     @property\n     def unit(self):\n         \"\"\"\n", "occurrence": 1, "normalized_patch": "--- a/astropy/nddata/nddata.py\n+++ b/astropy/nddata/nddata.py\n+    def _propagate_mask(self, other_mask, handle_mask):\n+        if self.mask is None:\n+            return other_mask\n+        if other_mask is None:\n+            return self.mask\n+        return handle_mask(self.mask, other_mask)", "normalized_occurrence": 1}
