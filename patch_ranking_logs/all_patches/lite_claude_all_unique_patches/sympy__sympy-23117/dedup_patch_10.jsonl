{"model_name_or_path": "agentless_claude", "instance_id": "sympy__sympy-23117", "model_patch": "diff --git a/sympy/tensor/array/ndim_array.py b/sympy/tensor/array/ndim_array.py\nindex 76cf2dd..bf6be0d 100644\n--- a/sympy/tensor/array/ndim_array.py\n+++ b/sympy/tensor/array/ndim_array.py\n@@ -195,6 +195,10 @@ class NDimArray(Printable):\n                 return [pointer], ()\n \n             result = []\n+            # Handle empty iterables\n+            if not pointer:\n+                return [], (0,)\n+\n             elems, shapes = zip(*[f(i) for i in pointer])\n             if len(set(shapes)) != 1:\n                 raise ValueError(\"could not determine shape unambiguously\")\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/tensor/array/ndim_array.py b/sympy/tensor/array/ndim_array.py\nindex b843491..ab0dd7c 100644\n--- a/sympy/tensor/array/ndim_array.py\n+++ b/sympy/tensor/array/ndim_array.py\n@@ -71,6 +71,8 @@ class NDimArray(Printable):\n             if not isinstance(pointer, Iterable):\n                 return ([pointer], ())\n             result = []\n+            if not pointer:\n+                return ([], (0,))\n             elems, shapes = zip(*[f(i) for i in pointer])\n             if len(set(shapes)) != 1:\n                 raise ValueError('could not determine shape unambiguously')\n", "normalized_occurrence": 3}
