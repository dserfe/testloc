{"model_name_or_path": "agentless_claude", "instance_id": "psf__requests-863", "model_patch": "diff --git a/requests/hooks.py b/requests/hooks.py\nindex 2c937f2..b013f3e 100644\n--- a/requests/hooks.py\n+++ b/requests/hooks.py\n@@ -35,15 +35,19 @@ def dispatch_hook(key, hooks, hook_data):\n     hooks = hooks or dict()\n \n     if key in hooks:\n-        hooks = hooks.get(key)\n-\n-        if hasattr(hooks, '__call__'):\n-            hooks = [hooks]\n-\n-        for hook in hooks:\n+        hook_list = hooks[key]\n+        \n+        if hasattr(hook_list, '__call__'):\n+            hook_list = [hook_list]\n+        elif not isinstance(hook_list, (list, tuple)):\n+            raise TypeError(f\"Hook '{key}' must be either a callable or a list/tuple of callables\")\n+\n+        for hook in hook_list:\n+            if not hasattr(hook, '__call__'):\n+                raise TypeError(f\"Hook '{key}' contained non-callable value\")\n             _hook_data = hook(hook_data)\n             if _hook_data is not None:\n                 hook_data = _hook_data\n \n \n-    return hook_data\n+    return hook_data\n", "occurrence": 1, "normalized_patch": "diff --git a/requests/hooks.py b/requests/hooks.py\nindex 7057710..7ab9a1a 100644\n--- a/requests/hooks.py\n+++ b/requests/hooks.py\n@@ -2,10 +2,14 @@ HOOKS = ('args', 'pre_request', 'pre_send', 'post_request', 'response')\n def dispatch_hook(key, hooks, hook_data):\n     hooks = hooks or dict()\n     if key in hooks:\n-        hooks = hooks.get(key)\n-        if hasattr(hooks, '__call__'):\n-            hooks = [hooks]\n-        for hook in hooks:\n+        hook_list = hooks[key]\n+        if hasattr(hook_list, '__call__'):\n+            hook_list = [hook_list]\n+        elif not isinstance(hook_list, (list, tuple)):\n+            raise TypeError(f\"Hook '{key}' must be either a callable or a list/tuple of callables\")\n+        for hook in hook_list:\n+            if not hasattr(hook, '__call__'):\n+                raise TypeError(f\"Hook '{key}' contained non-callable value\")\n             _hook_data = hook(hook_data)\n             if _hook_data is not None:\n                 hook_data = _hook_data\n", "normalized_occurrence": 1}
