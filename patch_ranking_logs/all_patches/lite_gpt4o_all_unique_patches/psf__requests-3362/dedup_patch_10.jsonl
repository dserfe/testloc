{"model_name_or_path": "agentless", "instance_id": "psf__requests-3362", "model_patch": "diff --git a/requests/models.py b/requests/models.py\nindex 58593f5..61c1057 100644\n--- a/requests/models.py\n+++ b/requests/models.py\n@@ -666,6 +666,8 @@ class Response(object):\n             if hasattr(self.raw, 'stream'):\n                 try:\n                     for chunk in self.raw.stream(chunk_size, decode_content=True):\n+                        if decode_unicode:\n+                            chunk = chunk.decode(r.encoding or 'utf-8', errors='replace')\n                         yield chunk\n                 except ProtocolError as e:\n                     raise ChunkedEncodingError(e)\n", "occurrence": 1, "normalized_patch": "diff --git a/requests/models.py b/requests/models.py\nindex d66e2b7..109a68f 100644\n--- a/requests/models.py\n+++ b/requests/models.py\n@@ -338,6 +338,8 @@ class Response(object):\n             if hasattr(self.raw, 'stream'):\n                 try:\n                     for chunk in self.raw.stream(chunk_size, decode_content=True):\n+                        if decode_unicode:\n+                            chunk = chunk.decode(r.encoding or 'utf-8', errors='replace')\n                         yield chunk\n                 except ProtocolError as e:\n                     raise ChunkedEncodingError(e)\n", "normalized_occurrence": 1}
