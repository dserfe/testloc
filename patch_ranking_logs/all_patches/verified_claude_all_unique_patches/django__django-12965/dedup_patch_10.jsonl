{"model_name_or_path": "agentless_claude", "instance_id": "django__django-12965", "model_patch": "diff --git a/django/db/models/sql/compiler.py b/django/db/models/sql/compiler.py\nindex 7c860dc..4180d5c 100644\n--- a/django/db/models/sql/compiler.py\n+++ b/django/db/models/sql/compiler.py\n@@ -1423,19 +1423,7 @@ class SQLDeleteCompiler(SQLCompiler):\n         Create the SQL for this query. Return the SQL string and list of\n         parameters.\n         \"\"\"\n-        if self.single_alias:\n-            return self._as_sql(self.query)\n-        innerq = self.query.clone()\n-        innerq.__class__ = Query\n-        innerq.clear_select_clause()\n-        pk = self.query.model._meta.pk\n-        innerq.select = [\n-            pk.get_col(self.query.get_initial_alias())\n-        ]\n-        outerq = Query(self.query.model)\n-        outerq.where = self.query.where_class()\n-        outerq.add_q(Q(pk__in=innerq))\n-        return self._as_sql(outerq)\n+        return self._as_sql(self.query)\n \n \n class SQLUpdateCompiler(SQLCompiler):\n", "occurrence": 1, "normalized_patch": "diff --git a/django/db/models/sql/compiler.py b/django/db/models/sql/compiler.py\nindex 8178df0..53f762a 100644\n--- a/django/db/models/sql/compiler.py\n+++ b/django/db/models/sql/compiler.py\n@@ -798,17 +798,7 @@ class SQLDeleteCompiler(SQLCompiler):\n             result.append('WHERE %s' % where)\n         return (' '.join(result), tuple(params))\n     def as_sql(self):\n-        if self.single_alias:\n-            return self._as_sql(self.query)\n-        innerq = self.query.clone()\n-        innerq.__class__ = Query\n-        innerq.clear_select_clause()\n-        pk = self.query.model._meta.pk\n-        innerq.select = [pk.get_col(self.query.get_initial_alias())]\n-        outerq = Query(self.query.model)\n-        outerq.where = self.query.where_class()\n-        outerq.add_q(Q(pk__in=innerq))\n-        return self._as_sql(outerq)\n+        return self._as_sql(self.query)\n class SQLUpdateCompiler(SQLCompiler):\n     def as_sql(self):\n         self.pre_sql_setup()\n", "normalized_occurrence": 2}
