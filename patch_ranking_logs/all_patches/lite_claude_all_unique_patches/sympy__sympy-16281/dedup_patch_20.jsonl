{"model_name_or_path": "agentless_claude", "instance_id": "sympy__sympy-16281", "model_patch": "diff --git a/sympy/printing/pretty/pretty.py b/sympy/printing/pretty/pretty.py\nindex b70dcf9..8e6dac9 100644\n--- a/sympy/printing/pretty/pretty.py\n+++ b/sympy/printing/pretty/pretty.py\n@@ -479,9 +479,10 @@ class PrettyPrinter(Printer):\n         vertical_chr = xobj('|', 1)\n \n         if self._use_unicode:\n-            # use unicode corners\n-            horizontal_chr = xobj('-', 1)\n+            # use unicode corners and extended top bar\n+            horizontal_chr = xobj('\u2500', 1)\n             corner_chr = u'\\N{BOX DRAWINGS LIGHT DOWN AND HORIZONTAL}'\n+            sign_lines[0] = '\u2500' + sign_lines[0] + '\u2500'  # extend top bar\n \n         func_height = pretty_func.height()\n \n@@ -490,10 +491,10 @@ class PrettyPrinter(Printer):\n         sign_height = 0\n \n         for lim in expr.limits:\n-            width = (func_height + 2) * 5 // 3 - 2\n+            width = (func_height + 1) * 4 // 3 - 1\n             sign_lines = []\n             sign_lines.append(corner_chr + (horizontal_chr*width) + corner_chr)\n-            for i in range(func_height + 1):\n+            for i in range(func_height):\n                 sign_lines.append(vertical_chr + (' '*width) + vertical_chr)\n \n             pretty_sign = stringPict('')\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/printing/pretty/pretty.py b/sympy/printing/pretty/pretty.py\nindex 0b99bb2..5360508 100644\n--- a/sympy/printing/pretty/pretty.py\n+++ b/sympy/printing/pretty/pretty.py\n@@ -352,17 +352,18 @@ class PrettyPrinter(Printer):\n         corner_chr = xobj('_', 1)\n         vertical_chr = xobj('|', 1)\n         if self._use_unicode:\n-            horizontal_chr = xobj('-', 1)\n+            horizontal_chr = xobj('\u2500', 1)\n             corner_chr = u'\u252c'\n+            sign_lines[0] = '\u2500' + sign_lines[0] + '\u2500'\n         func_height = pretty_func.height()\n         first = True\n         max_upper = 0\n         sign_height = 0\n         for lim in expr.limits:\n-            width = (func_height + 2) * 5 // 3 - 2\n+            width = (func_height + 1) * 4 // 3 - 1\n             sign_lines = []\n             sign_lines.append(corner_chr + horizontal_chr * width + corner_chr)\n-            for i in range(func_height + 1):\n+            for i in range(func_height):\n                 sign_lines.append(vertical_chr + ' ' * width + vertical_chr)\n             pretty_sign = stringPict('')\n             pretty_sign = prettyForm(*pretty_sign.stack(*sign_lines))\n", "normalized_occurrence": 1}
