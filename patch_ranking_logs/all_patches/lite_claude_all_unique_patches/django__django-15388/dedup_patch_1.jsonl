{"model_name_or_path": "agentless_claude", "instance_id": "django__django-15388", "model_patch": "diff --git a/django/template/loaders/filesystem.py b/django/template/loaders/filesystem.py\nindex 5325bda..459133e 100644\n--- a/django/template/loaders/filesystem.py\n+++ b/django/template/loaders/filesystem.py\n@@ -32,9 +32,13 @@ class Loader(BaseLoader):\n         one of the template_dirs it is excluded from the result set.\n         \"\"\"\n         for template_dir in self.get_dirs():\n+            if template_dir is None:\n+                continue\n             try:\n+                # Convert template_dir to absolute path to handle BASE_DIR cases\n+                template_dir = str(Path(template_dir).resolve())\n                 name = safe_join(template_dir, template_name)\n-            except SuspiciousFileOperation:\n+            except (SuspiciousFileOperation, ValueError, FileNotFoundError):\n                 # The joined path was located outside of this template_dir\n                 # (it might be inside another one, so this isn't fatal).\n                 continue\n@@ -43,4 +47,4 @@ class Loader(BaseLoader):\n                 name=name,\n                 template_name=template_name,\n                 loader=self,\n-            )\n+            )\n", "occurrence": 1, "normalized_patch": "diff --git a/django/template/loaders/filesystem.py b/django/template/loaders/filesystem.py\nindex f84d4ea..a011743 100644\n--- a/django/template/loaders/filesystem.py\n+++ b/django/template/loaders/filesystem.py\n@@ -16,8 +16,11 @@ class Loader(BaseLoader):\n             raise TemplateDoesNotExist(origin)\n     def get_template_sources(self, template_name):\n         for template_dir in self.get_dirs():\n+            if template_dir is None:\n+                continue\n             try:\n+                template_dir = str(Path(template_dir).resolve())\n                 name = safe_join(template_dir, template_name)\n-            except SuspiciousFileOperation:\n+            except (SuspiciousFileOperation, ValueError, FileNotFoundError):\n                 continue\n             yield Origin(name=name, template_name=template_name, loader=self)\n\\ No newline at end of file\n", "normalized_occurrence": 1}
