{"model_name_or_path": "agentless_claude", "instance_id": "django__django-14351", "model_patch": "diff --git a/django/db/models/sql/compiler.py b/django/db/models/sql/compiler.py\nindex e16dbc0..299c885 100644\n--- a/django/db/models/sql/compiler.py\n+++ b/django/db/models/sql/compiler.py\n@@ -226,6 +226,16 @@ class SQLCompiler:\n         assert not (self.query.select and self.query.default_cols)\n         if self.query.default_cols:\n             cols = self.get_default_columns()\n+            # When in a subquery context for an IN clause, only include the primary key\n+            if self.query.subquery and any(getattr(where_child, 'lookup_name', None) == 'in'\n+                                         for where_child in self.query.where.children):\n+                pk_col = None\n+                for col in cols:\n+                    if getattr(col.target, 'primary_key', False):\n+                        pk_col = col\n+                        break\n+                if pk_col:\n+                    cols = [pk_col]\n         else:\n             # self.query.select is a special case. These columns never go to\n             # any model.\n", "normalized_patch": "diff --git a/django/db/models/sql/compiler.py b/django/db/models/sql/compiler.py\nindex b3e101b..b410858 100644\n--- a/django/db/models/sql/compiler.py\n+++ b/django/db/models/sql/compiler.py\n@@ -100,6 +100,14 @@ class SQLCompiler:\n         assert not (self.query.select and self.query.default_cols)\n         if self.query.default_cols:\n             cols = self.get_default_columns()\n+            if self.query.subquery and any((getattr(where_child, 'lookup_name', None) == 'in' for where_child in self.query.where.children)):\n+                pk_col = None\n+                for col in cols:\n+                    if getattr(col.target, 'primary_key', False):\n+                        pk_col = col\n+                        break\n+                if pk_col:\n+                    cols = [pk_col]\n         else:\n             cols = self.query.select\n         if cols:\n", "normalized_occurrence": 1}
