{"model_name_or_path": "agentless", "instance_id": "django__django-16229", "model_patch": "diff --git a/django/forms/forms.py b/django/forms/forms.py\nindex 216b4cc..49d620e 100644\n--- a/django/forms/forms.py\n+++ b/django/forms/forms.py\n@@ -92,7 +92,7 @@ class BaseForm(RenderableFormMixin):\n         self.auto_id = auto_id\n         if prefix is not None:\n             self.prefix = prefix\n-        self.initial = initial or {}\n+        self.initial = self._process_initial(initial or {})\n         self.error_class = error_class\n         # Translators: This is the default suffix added to form field labels\n         self.label_suffix = label_suffix if label_suffix is not None else _(\":\")\n@@ -213,7 +213,18 @@ class BaseForm(RenderableFormMixin):\n         \"\"\"Add an 'initial' prefix for checking dynamic initial values.\"\"\"\n         return \"initial-%s\" % self.add_prefix(field_name)\n \n-    def _widget_data_value(self, widget, html_name):\n+    def _process_initial(self, initial):\n+        \"\"\"\n+        Process initial values to ensure callable defaults are evaluated.\n+        \"\"\"\n+        return {k: (v() if callable(v) else v) for k, v in initial.items()}\n+\n+    def _get_initial_value(self, field_name, field_initial):\n+        \"\"\"\n+        Get the initial value for a field, accounting for callables.\n+        \"\"\"\n+        initial_value = self.initial.get(field_name, field_initial)\n+        return initial_value() if callable(initial_value) else initial_value\n         # value_from_datadict() gets the data from the data dictionaries.\n         # Each widget type knows how to retrieve its own data, because some\n         # widgets split data over several HTML fields.\n@@ -517,7 +528,7 @@ class BaseForm(RenderableFormMixin):\n         Return initial data for field on form. Use initial data from the form\n         or the field, in that order. Evaluate callable values.\n         \"\"\"\n-        value = self.initial.get(field_name, field.initial)\n+        value = self._get_initial_value(field_name, field.initial)\n         if callable(value):\n             value = value()\n         # If this is an auto-generated default date, nix the microseconds\n@@ -536,4 +547,4 @@ class Form(BaseForm, metaclass=DeclarativeFieldsMetaclass):\n     # self.fields is specified. This class (Form) is the one that does the\n     # fancy metaclass stuff purely for the semantic sugar -- it allows one\n     # to define a form using declarative syntax.\n-    # BaseForm itself has no way of designating self.fields.\n+    # BaseForm itself has no way of designating self.fields.\n", "occurrence": 1, "normalized_patch": "diff --git a/django/forms/forms.py b/django/forms/forms.py\nindex 4c02ff9..ace85a8 100644\n--- a/django/forms/forms.py\n+++ b/django/forms/forms.py\n@@ -58,7 +58,7 @@ class BaseForm(RenderableFormMixin):\n         self.auto_id = auto_id\n         if prefix is not None:\n             self.prefix = prefix\n-        self.initial = initial or {}\n+        self.initial = self._process_initial(initial or {})\n         self.error_class = error_class\n         self.label_suffix = label_suffix if label_suffix is not None else _(':')\n         self.empty_permitted = empty_permitted\n@@ -152,7 +152,18 @@ class BaseForm(RenderableFormMixin):\n         \"\"\"Add an 'initial' prefix for checking dynamic initial values.\"\"\"\n         return 'initial-%s' % self.add_prefix(field_name)\n \n-    def _widget_data_value(self, widget, html_name):\n+    def _process_initial(self, initial):\n+        \"\"\"\n+        Process initial values to ensure callable defaults are evaluated.\n+        \"\"\"\n+        return {k: v() if callable(v) else v for k, v in initial.items()}\n+\n+    def _get_initial_value(self, field_name, field_initial):\n+        \"\"\"\n+        Get the initial value for a field, accounting for callables.\n+        \"\"\"\n+        initial_value = self.initial.get(field_name, field_initial)\n+        return initial_value() if callable(initial_value) else initial_value\n         return widget.value_from_datadict(self.data, self.files, html_name)\n \n     def _html_output(self, normal_row, error_row, row_ender, help_text_html, errors_on_separate_row):\n@@ -367,7 +378,7 @@ class BaseForm(RenderableFormMixin):\n         Return initial data for field on form. Use initial data from the form\n         or the field, in that order. Evaluate callable values.\n         \"\"\"\n-        value = self.initial.get(field_name, field.initial)\n+        value = self._get_initial_value(field_name, field.initial)\n         if callable(value):\n             value = value()\n         if isinstance(value, (datetime.datetime, datetime.time)) and (not field.widget.supports_microseconds):\n", "normalized_occurrence": 1}
