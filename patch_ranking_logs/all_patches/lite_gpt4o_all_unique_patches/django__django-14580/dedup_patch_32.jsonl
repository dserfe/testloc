{"model_name_or_path": "agentless", "instance_id": "django__django-14580", "model_patch": "diff --git a/django/db/migrations/writer.py b/django/db/migrations/writer.py\nindex 36f0ec3..d3d5552 100644\n--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n@@ -80,6 +80,7 @@ class OperationWriter:\n         # otherwise, we need to add an import for the operation class.\n         if getattr(migrations, name, None) == self.operation.__class__:\n             self.feed('migrations.%s(' % name)\n+            imports.add(\"from django.db import models\")\n         else:\n             imports.add('import %s' % (self.operation.__class__.__module__))\n             self.feed('%s.%s(' % (self.operation.__class__.__module__, name))\n@@ -167,6 +168,7 @@ class MigrationWriter:\n         if \"from django.db import models\" in imports:\n             imports.discard(\"from django.db import models\")\n             imports.add(\"from django.db import migrations, models\")\n+            imports.add(\"from django.db import models\")\n         else:\n             imports.add(\"from django.db import migrations\")\n \n@@ -190,6 +192,7 @@ class MigrationWriter:\n                 'version': get_version(),\n                 'timestamp': now().strftime(\"%Y-%m-%d %H:%M\"),\n             }\n+            imports.add(\"from django.db import models\")\n         else:\n             items['migration_header'] = \"\"\n \n", "occurrence": 1, "normalized_patch": "diff --git a/django/db/migrations/writer.py b/django/db/migrations/writer.py\nindex acf3688..d46a450 100644\n--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n@@ -67,6 +67,7 @@ class OperationWriter:\n         operation_args = get_func_args(self.operation.__init__)\n         if getattr(migrations, name, None) == self.operation.__class__:\n             self.feed('migrations.%s(' % name)\n+            imports.add('from django.db import models')\n         else:\n             imports.add('import %s' % self.operation.__class__.__module__)\n             self.feed('%s.%s(' % (self.operation.__class__.__module__, name))\n@@ -122,6 +123,7 @@ class MigrationWriter:\n         if 'from django.db import models' in imports:\n             imports.discard('from django.db import models')\n             imports.add('from django.db import migrations, models')\n+            imports.add('from django.db import models')\n         else:\n             imports.add('from django.db import migrations')\n         sorted_imports = sorted(imports, key=lambda i: i.split()[1])\n@@ -132,6 +134,7 @@ class MigrationWriter:\n             items['replaces_str'] = '\\n    replaces = %s\\n' % self.serialize(self.migration.replaces)[0]\n         if self.include_header:\n             items['migration_header'] = MIGRATION_HEADER_TEMPLATE % {'version': get_version(), 'timestamp': now().strftime('%Y-%m-%d %H:%M')}\n+            imports.add('from django.db import models')\n         else:\n             items['migration_header'] = ''\n         if self.migration.initial:\n", "normalized_occurrence": 1}
