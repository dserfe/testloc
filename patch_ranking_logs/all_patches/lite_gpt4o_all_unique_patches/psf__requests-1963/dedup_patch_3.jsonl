{"model_name_or_path": "agentless", "instance_id": "psf__requests-1963", "model_patch": "diff --git a/requests/sessions.py b/requests/sessions.py\nindex 7fdc4a9..360376a 100644\n--- a/requests/sessions.py\n+++ b/requests/sessions.py\n@@ -88,6 +88,14 @@ class SessionRedirectMixin(object):\n         i = 0\n \n         while resp.is_redirect:\n+            # Update the request method before copying the request object\n+            if (resp.status_code == codes.see_other and req.method != 'HEAD'):\n+                req.method = 'GET'\n+            elif resp.status_code == codes.found and req.method != 'HEAD':\n+                req.method = 'GET'\n+            elif resp.status_code == codes.moved and req.method == 'POST':\n+                req.method = 'GET'\n+\n             prepared_request = req.copy()\n \n             resp.content  # Consume socket so it can be released\n", "occurrence": 1, "normalized_patch": "diff --git a/requests/sessions.py b/requests/sessions.py\nindex 3875307..da30760 100644\n--- a/requests/sessions.py\n+++ b/requests/sessions.py\n@@ -36,6 +36,12 @@ class SessionRedirectMixin(object):\n     def resolve_redirects(self, resp, req, stream=False, timeout=None, verify=True, cert=None, proxies=None):\n         i = 0\n         while resp.is_redirect:\n+            if resp.status_code == codes.see_other and req.method != 'HEAD':\n+                req.method = 'GET'\n+            elif resp.status_code == codes.found and req.method != 'HEAD':\n+                req.method = 'GET'\n+            elif resp.status_code == codes.moved and req.method == 'POST':\n+                req.method = 'GET'\n             prepared_request = req.copy()\n             resp.content\n             if i >= self.max_redirects:\n", "normalized_occurrence": 1}
