{"model_name_or_path": "agentless_claude", "instance_id": "django__django-15202", "model_patch": "diff --git a/django/core/validators.py b/django/core/validators.py\nindex bd1f78e..3c1f7f4 100644\n--- a/django/core/validators.py\n+++ b/django/core/validators.py\n@@ -102,8 +102,15 @@ class URLValidator(RegexValidator):\n             raise ValidationError(self.message, code=self.code, params={'value': value})\n         if self.unsafe_chars.intersection(value):\n             raise ValidationError(self.message, code=self.code, params={'value': value})\n-        # Check if the scheme is valid.\n-        scheme = value.split('://')[0].lower()\n+            \n+        # First check if URL is well-formed\n+        try:\n+            url_parts = urlsplit(value)\n+        except ValueError:\n+            raise ValidationError(self.message, code=self.code, params={'value': value})\n+            \n+        # Check if the scheme is valid\n+        scheme = url_parts.scheme.lower()\n         if scheme not in self.schemes:\n             raise ValidationError(self.message, code=self.code, params={'value': value})\n \n", "occurrence": 1, "normalized_patch": "diff --git a/django/core/validators.py b/django/core/validators.py\nindex debbb3b..ff3f621 100644\n--- a/django/core/validators.py\n+++ b/django/core/validators.py\n@@ -59,7 +59,11 @@ class URLValidator(RegexValidator):\n             raise ValidationError(self.message, code=self.code, params={'value': value})\n         if self.unsafe_chars.intersection(value):\n             raise ValidationError(self.message, code=self.code, params={'value': value})\n-        scheme = value.split('://')[0].lower()\n+        try:\n+            url_parts = urlsplit(value)\n+        except ValueError:\n+            raise ValidationError(self.message, code=self.code, params={'value': value})\n+        scheme = url_parts.scheme.lower()\n         if scheme not in self.schemes:\n             raise ValidationError(self.message, code=self.code, params={'value': value})\n         try:\n", "normalized_occurrence": 1}
