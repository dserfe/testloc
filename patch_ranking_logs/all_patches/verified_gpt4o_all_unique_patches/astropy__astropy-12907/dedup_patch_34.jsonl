{"model_name_or_path": "agentless", "instance_id": "astropy__astropy-12907", "model_patch": "diff --git a/astropy/modeling/separable.py b/astropy/modeling/separable.py\nindex d6e9246..f25e209 100644\n--- a/astropy/modeling/separable.py\n+++ b/astropy/modeling/separable.py\n@@ -203,9 +203,11 @@ def _coord_matrix(model, pos, noutp):\n         # this does not work for more than 2 coordinates\n         mat = np.zeros((noutp, model.n_inputs))\n         if pos == 'left':\n-            mat[:model.n_outputs, : model.n_inputs] = 1\n+            for i in range(model.n_outputs):\n+                mat[i, i % model.n_inputs] = 1\n         else:\n-            mat[-model.n_outputs:, -model.n_inputs:] = 1\n+            for i in range(model.n_outputs):\n+                mat[-(i + 1), -(i % model.n_inputs) - 1] = 1\n     else:\n         mat = np.zeros((noutp, model.n_inputs))\n \n", "occurrence": 1, "normalized_patch": "diff --git a/astropy/modeling/separable.py b/astropy/modeling/separable.py\nindex 198a838..313201d 100644\n--- a/astropy/modeling/separable.py\n+++ b/astropy/modeling/separable.py\n@@ -57,9 +57,11 @@ def _coord_matrix(model, pos, noutp):\n     if not model.separable:\n         mat = np.zeros((noutp, model.n_inputs))\n         if pos == 'left':\n-            mat[:model.n_outputs, :model.n_inputs] = 1\n+            for i in range(model.n_outputs):\n+                mat[i, i % model.n_inputs] = 1\n         else:\n-            mat[-model.n_outputs:, -model.n_inputs:] = 1\n+            for i in range(model.n_outputs):\n+                mat[-(i + 1), -(i % model.n_inputs) - 1] = 1\n     else:\n         mat = np.zeros((noutp, model.n_inputs))\n         for i in range(model.n_inputs):\n", "normalized_occurrence": 1}
