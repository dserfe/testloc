{"model_name_or_path": "agentless_claude", "instance_id": "django__django-11815", "model_patch": "diff --git a/django/db/migrations/writer.py b/django/db/migrations/writer.py\nindex 36f0ec3..66ad9a2 100644\n--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n@@ -115,6 +115,22 @@ class OperationWriter:\n         return '\\n'.join(self.buff)\n \n \n+class EnumSerializer:\n+    \"\"\"\n+    Custom serializer for Enum objects that uses the enum member's name instead of its value.\n+    \"\"\"\n+    def __init__(self, value):\n+        self.value = value\n+\n+    def serialize(self):\n+        imports = {\"from enum import Enum\"}\n+        if isinstance(self.value, Enum):\n+            # Access the enum class through the member's __class__\n+            enum_class = self.value.__class__\n+            # Use the name of the enum member instead of its value\n+            return \"%s['%s']\" % (enum_class.__name__, self.value.name), imports\n+        return repr(self.value), imports\n+\n class MigrationWriter:\n     \"\"\"\n     Take a Migration instance and is able to produce the contents\n@@ -125,6 +141,8 @@ class MigrationWriter:\n         self.migration = migration\n         self.include_header = include_header\n         self.needs_manual_porting = False\n+        # Register the EnumSerializer for Enum types\n+        self.register_serializer(Enum, EnumSerializer)\n \n     def as_string(self):\n         \"\"\"Return a string of the file contents.\"\"\"\n", "occurrence": 1, "normalized_patch": "diff --git a/django/db/migrations/writer.py b/django/db/migrations/writer.py\nindex acf3688..d469eca 100644\n--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n@@ -91,11 +91,21 @@ class OperationWriter:\n         self.buff.append(' ' * (self.indentation * 4) + line)\n     def render(self):\n         return '\\n'.join(self.buff)\n+class EnumSerializer:\n+    def __init__(self, value):\n+        self.value = value\n+    def serialize(self):\n+        imports = {'from enum import Enum'}\n+        if isinstance(self.value, Enum):\n+            enum_class = self.value.__class__\n+            return (\"%s['%s']\" % (enum_class.__name__, self.value.name), imports)\n+        return (repr(self.value), imports)\n class MigrationWriter:\n     def __init__(self, migration, include_header=True):\n         self.migration = migration\n         self.include_header = include_header\n         self.needs_manual_porting = False\n+        self.register_serializer(Enum, EnumSerializer)\n     def as_string(self):\n         items = {'replaces_str': '', 'initial_str': ''}\n         imports = set()\n", "normalized_occurrence": 1}
