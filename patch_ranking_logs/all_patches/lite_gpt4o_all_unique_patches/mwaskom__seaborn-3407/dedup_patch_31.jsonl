{"model_name_or_path": "agentless", "instance_id": "mwaskom__seaborn-3407", "model_patch": "diff --git a/seaborn/axisgrid.py b/seaborn/axisgrid.py\nindex 29c361e..dbdf356 100644\n--- a/seaborn/axisgrid.py\n+++ b/seaborn/axisgrid.py\n@@ -1241,6 +1241,10 @@ class PairGrid(Grid):\n \n         super().__init__()\n \n+        # Handle MultiIndex columns in the DataFrame\n+        if isinstance(data.columns, pd.MultiIndex):\n+            data.columns = ['_'.join(map(str, col)).strip() for col in data.columns]\n+            \n         # Sort out the variables that define the grid\n         numeric_cols = self._find_numeric_cols(data)\n         if hue in numeric_cols:\n@@ -1291,7 +1295,7 @@ class PairGrid(Grid):\n \n         self._figure = fig\n         self.axes = axes\n-        self.data = data\n+        self.data = data.copy()  # Ensure to work on a copy of the data\n \n         # Save what we are going to do with the diagonal\n         self.diag_sharey = diag_sharey\n", "occurrence": 1, "normalized_patch": "diff --git a/seaborn/axisgrid.py b/seaborn/axisgrid.py\nindex 039b44a..076bc2e 100644\n--- a/seaborn/axisgrid.py\n+++ b/seaborn/axisgrid.py\n@@ -534,6 +534,8 @@ class FacetGrid(Grid):\n class PairGrid(Grid):\n     def __init__(self, data, *, hue=None, vars=None, x_vars=None, y_vars=None, hue_order=None, palette=None, hue_kws=None, corner=False, diag_sharey=True, height=2.5, aspect=1, layout_pad=0.5, despine=True, dropna=False):\n         super().__init__()\n+        if isinstance(data.columns, pd.MultiIndex):\n+            data.columns = ['_'.join(map(str, col)).strip() for col in data.columns]\n         numeric_cols = self._find_numeric_cols(data)\n         if hue in numeric_cols:\n             numeric_cols.remove(hue)\n@@ -567,7 +569,7 @@ class PairGrid(Grid):\n                 axes[i, j] = None\n         self._figure = fig\n         self.axes = axes\n-        self.data = data\n+        self.data = data.copy()\n         self.diag_sharey = diag_sharey\n         self.diag_vars = None\n         self.diag_axes = None\n", "normalized_occurrence": 1}
