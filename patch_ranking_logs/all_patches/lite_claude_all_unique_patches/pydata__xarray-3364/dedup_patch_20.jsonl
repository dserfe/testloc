{"model_name_or_path": "agentless_claude", "instance_id": "pydata__xarray-3364", "model_patch": "diff --git a/xarray/core/concat.py b/xarray/core/concat.py\nindex 1ac1b8e..f4f8627 100644\n--- a/xarray/core/concat.py\n+++ b/xarray/core/concat.py\n@@ -1,3 +1,4 @@\n+\n import pandas as pd\n \n from . import dtypes, utils\n@@ -299,11 +300,15 @@ def _dataset_concat(\n     if (dim in coord_names or dim in data_names) and dim not in dim_names:\n         datasets = [ds.expand_dims(dim) for ds in datasets]\n \n-    # determine which variables to concatentate\n+    # determine which variables to concatenate\n     concat_over, equals, concat_dim_lengths = _calc_concat_over(\n         datasets, dim, dim_names, data_vars, coords, compat\n     )\n \n+    # For outer join, include all variables from all datasets\n+    if join == \"outer\":\n+        concat_over = coord_names | data_names - dim_names\n+        \n     # determine which variables to merge, and then merge them according to compat\n     variables_to_merge = (coord_names | data_names) - concat_over - dim_names\n \n", "occurrence": 1, "normalized_patch": "diff --git a/xarray/core/concat.py b/xarray/core/concat.py\nindex 06e5a50..ad9edf3 100644\n--- a/xarray/core/concat.py\n+++ b/xarray/core/concat.py\n@@ -121,6 +121,8 @@ def _dataset_concat(datasets, dim, data_vars, coords, compat, positions, fill_va\n     if (dim in coord_names or dim in data_names) and dim not in dim_names:\n         datasets = [ds.expand_dims(dim) for ds in datasets]\n     concat_over, equals, concat_dim_lengths = _calc_concat_over(datasets, dim, dim_names, data_vars, coords, compat)\n+    if join == 'outer':\n+        concat_over = coord_names | data_names - dim_names\n     variables_to_merge = (coord_names | data_names) - concat_over - dim_names\n     result_vars = {}\n     if variables_to_merge:\n", "normalized_occurrence": 1}
