{"model_name_or_path": "agentless", "instance_id": "sympy__sympy-16281", "model_patch": "diff --git a/sympy/printing/pretty/pretty.py b/sympy/printing/pretty/pretty.py\nindex b70dcf9..b0886be 100644\n--- a/sympy/printing/pretty/pretty.py\n+++ b/sympy/printing/pretty/pretty.py\n@@ -493,7 +493,7 @@ class PrettyPrinter(Printer):\n             width = (func_height + 2) * 5 // 3 - 2\n             sign_lines = []\n             sign_lines.append(corner_chr + (horizontal_chr*width) + corner_chr)\n-            for i in range(func_height + 1):\n+            for i in range(func_height):\n                 sign_lines.append(vertical_chr + (' '*width) + vertical_chr)\n \n             pretty_sign = stringPict('')\n@@ -522,6 +522,11 @@ class PrettyPrinter(Printer):\n             pretty_func = prettyForm(*pretty_sign.right(pretty_func))\n \n         pretty_func.baseline = max_upper + sign_height//2\n+        \n+        # Adjust width of the top bar\n+        top_bar_width = max(len(pretty_sign[0]), len(pretty_func[0]))\n+        pretty_sign.picture[0] = corner_chr + (horizontal_chr * (top_bar_width - 2)) + corner_chr\n+        \n         pretty_func.binding = prettyForm.MUL\n         return pretty_func\n \n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/printing/pretty/pretty.py b/sympy/printing/pretty/pretty.py\nindex 0b99bb2..3eb68e4 100644\n--- a/sympy/printing/pretty/pretty.py\n+++ b/sympy/printing/pretty/pretty.py\n@@ -362,7 +362,7 @@ class PrettyPrinter(Printer):\n             width = (func_height + 2) * 5 // 3 - 2\n             sign_lines = []\n             sign_lines.append(corner_chr + horizontal_chr * width + corner_chr)\n-            for i in range(func_height + 1):\n+            for i in range(func_height):\n                 sign_lines.append(vertical_chr + ' ' * width + vertical_chr)\n             pretty_sign = stringPict('')\n             pretty_sign = prettyForm(*pretty_sign.stack(*sign_lines))\n@@ -382,6 +382,8 @@ class PrettyPrinter(Printer):\n             pretty_sign = prettyForm(*pretty_sign.right(padding))\n             pretty_func = prettyForm(*pretty_sign.right(pretty_func))\n         pretty_func.baseline = max_upper + sign_height // 2\n+        top_bar_width = max(len(pretty_sign[0]), len(pretty_func[0]))\n+        pretty_sign.picture[0] = corner_chr + horizontal_chr * (top_bar_width - 2) + corner_chr\n         pretty_func.binding = prettyForm.MUL\n         return pretty_func\n     def _print_Sum(self, expr):\n", "normalized_occurrence": 1}
