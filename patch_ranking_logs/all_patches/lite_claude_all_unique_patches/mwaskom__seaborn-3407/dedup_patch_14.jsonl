{"model_name_or_path": "agentless_claude", "instance_id": "mwaskom__seaborn-3407", "model_patch": "diff --git a/seaborn/axisgrid.py b/seaborn/axisgrid.py\nindex 29c361e..49f6ae6 100644\n--- a/seaborn/axisgrid.py\n+++ b/seaborn/axisgrid.py\n@@ -1487,9 +1487,26 @@ class PairGrid(Grid):\n             else:\n                 plt.sca(ax)\n \n-            vector = self.data[var]\n+            # Handle both regular and MultiIndex columns\n+            if isinstance(self.data.columns, pd.MultiIndex):\n+                # For MultiIndex, match the full tuple\n+                matching_cols = [col for col in self.data.columns if var in col]\n+                if matching_cols:\n+                    vector = self.data[matching_cols[0]]\n+                else:\n+                    raise KeyError(f\"{var} not found in MultiIndex columns\")\n+            else:\n+                vector = self.data[var]\n+            \n             if self._hue_var is not None:\n-                hue = self.data[self._hue_var]\n+                if isinstance(self.data.columns, pd.MultiIndex):\n+                    matching_hue = [col for col in self.data.columns if self._hue_var in col]\n+                    if matching_hue:\n+                        hue = self.data[matching_hue[0]]\n+                    else:\n+                        raise KeyError(f\"{self._hue_var} not found in MultiIndex columns\")\n+                else:\n+                    hue = self.data[self._hue_var]\n             else:\n                 hue = None\n \n", "occurrence": 1, "normalized_patch": "diff --git a/seaborn/axisgrid.py b/seaborn/axisgrid.py\nindex 039b44a..12f3408 100644\n--- a/seaborn/axisgrid.py\n+++ b/seaborn/axisgrid.py\n@@ -666,9 +666,23 @@ class PairGrid(Grid):\n                 plot_kwargs['ax'] = ax\n             else:\n                 plt.sca(ax)\n-            vector = self.data[var]\n+            if isinstance(self.data.columns, pd.MultiIndex):\n+                matching_cols = [col for col in self.data.columns if var in col]\n+                if matching_cols:\n+                    vector = self.data[matching_cols[0]]\n+                else:\n+                    raise KeyError(f'{var} not found in MultiIndex columns')\n+            else:\n+                vector = self.data[var]\n             if self._hue_var is not None:\n-                hue = self.data[self._hue_var]\n+                if isinstance(self.data.columns, pd.MultiIndex):\n+                    matching_hue = [col for col in self.data.columns if self._hue_var in col]\n+                    if matching_hue:\n+                        hue = self.data[matching_hue[0]]\n+                    else:\n+                        raise KeyError(f'{self._hue_var} not found in MultiIndex columns')\n+                else:\n+                    hue = self.data[self._hue_var]\n             else:\n                 hue = None\n             if self._dropna:\n", "normalized_occurrence": 1}
