{"model_name_or_path": "agentless", "instance_id": "sympy__sympy-16792", "model_patch": "diff --git a/sympy/utilities/autowrap.py b/sympy/utilities/autowrap.py\nindex 6b78c94..1f0911e 100644\n--- a/sympy/utilities/autowrap.py\n+++ b/sympy/utilities/autowrap.py\n@@ -631,7 +631,8 @@ def autowrap(expr, language=None, backend='f2py', tempdir=None, args=None,\n     for name_h, expr_h, args_h in helpers:\n         if expr.has(expr_h):\n             name_h = binary_function(name_h, expr_h, backend='dummy')\n-            expr = expr.subs(expr_h, name_h(*args_h))\n+            if any(arg in expr.free_symbols for arg in args_h):\n+                expr = expr.subs(expr_h, name_h(*args_h))\n     try:\n         routine = code_gen.routine('autofunc', expr, args)\n     except CodeGenArgumentListError as e:\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/utilities/autowrap.py b/sympy/utilities/autowrap.py\nindex da40c47..b72cb34 100644\n--- a/sympy/utilities/autowrap.py\n+++ b/sympy/utilities/autowrap.py\n@@ -274,7 +274,8 @@ def autowrap(expr, language=None, backend='f2py', tempdir=None, args=None, flags\n     for name_h, expr_h, args_h in helpers:\n         if expr.has(expr_h):\n             name_h = binary_function(name_h, expr_h, backend='dummy')\n-            expr = expr.subs(expr_h, name_h(*args_h))\n+            if any((arg in expr.free_symbols for arg in args_h)):\n+                expr = expr.subs(expr_h, name_h(*args_h))\n     try:\n         routine = code_gen.routine('autofunc', expr, args)\n     except CodeGenArgumentListError as e:\n", "normalized_occurrence": 1}
