{"model_name_or_path": "agentless_claude", "instance_id": "astropy__astropy-8872", "model_patch": "diff --git a/astropy/units/quantity.py b/astropy/units/quantity.py\nindex 0ffb147..1452eb5 100644\n--- a/astropy/units/quantity.py\n+++ b/astropy/units/quantity.py\n@@ -296,7 +296,7 @@ class Quantity(np.ndarray, metaclass=InheritDocstrings):\n                 if not copy:\n                     return value\n \n-                if not (np.can_cast(np.float32, value.dtype) or\n+                if not (np.can_cast(value.dtype, np.float32) or\n                         value.dtype.fields):\n                     dtype = float\n \n", "occurrence": 1, "normalized_patch": "diff --git a/astropy/units/quantity.py b/astropy/units/quantity.py\nindex 3719125..1a94f87 100644\n--- a/astropy/units/quantity.py\n+++ b/astropy/units/quantity.py\n@@ -85,7 +85,7 @@ class Quantity(np.ndarray, metaclass=InheritDocstrings):\n             if dtype is None:\n                 if not copy:\n                     return value\n-                if not (np.can_cast(np.float32, value.dtype) or value.dtype.fields):\n+                if not (np.can_cast(value.dtype, np.float32) or value.dtype.fields):\n                     dtype = float\n             return np.array(value, dtype=dtype, copy=copy, order=order, subok=True, ndmin=ndmin)\n         value_unit = None\n", "normalized_occurrence": 1}
