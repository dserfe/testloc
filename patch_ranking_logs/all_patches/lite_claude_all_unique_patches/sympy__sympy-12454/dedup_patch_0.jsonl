{"model_name_or_path": "agentless_claude", "instance_id": "sympy__sympy-12454", "model_patch": "diff --git a/sympy/matrices/matrices.py b/sympy/matrices/matrices.py\nindex f1dbb52..3811aee 100644\n--- a/sympy/matrices/matrices.py\n+++ b/sympy/matrices/matrices.py\n@@ -1112,7 +1112,7 @@ class MatrixProperties(MatrixRequired):\n         \"\"\"\n         return all(self[i, j].is_zero\n                    for i in range(1, self.rows)\n-                   for j in range(i))\n+                   for j in range(min(i, self.cols)))\n \n     @property\n     def is_zero(self):\n", "occurrence": 20, "normalized_patch": "diff --git a/sympy/matrices/matrices.py b/sympy/matrices/matrices.py\nindex ef5ca65..ae72f69 100644\n--- a/sympy/matrices/matrices.py\n+++ b/sympy/matrices/matrices.py\n@@ -295,7 +295,7 @@ class MatrixProperties(MatrixRequired):\n         return self._eval_is_upper_hessenberg()\n     @property\n     def is_upper(self):\n-        return all((self[i, j].is_zero for i in range(1, self.rows) for j in range(i)))\n+        return all((self[i, j].is_zero for i in range(1, self.rows) for j in range(min(i, self.cols))))\n     @property\n     def is_zero(self):\n         return self._eval_is_zero()\n", "normalized_occurrence": 20}
