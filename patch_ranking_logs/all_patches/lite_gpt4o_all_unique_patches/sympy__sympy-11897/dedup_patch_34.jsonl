{"model_name_or_path": "agentless", "instance_id": "sympy__sympy-11897", "model_patch": "diff --git a/sympy/printing/latex.py b/sympy/printing/latex.py\nindex 6f6ac51..e62abb7 100644\n--- a/sympy/printing/latex.py\n+++ b/sympy/printing/latex.py\n@@ -356,6 +356,7 @@ class LatexPrinter(Printer):\n         else:\n             tex = \"\"\n \n+        from sympy import Add\n         from sympy.simplify import fraction\n         numer, denom = fraction(expr, exact=True)\n         separator = self._settings['mul_symbol_latex']\n@@ -409,7 +410,7 @@ class LatexPrinter(Printer):\n             elif len(snumer.split()) > ratio*ldenom:\n                 # handle long fractions\n                 if self._needs_mul_brackets(numer, last=True):\n-                    tex += r\"\\frac{1}{%s}%s\\left(%s\\right)\" \\\n+                    tex += r\"\\frac{%s}{%s}%s\\left(%s\\right)\" \\\n                         % (sdenom, separator, snumer)\n                 elif numer.is_Mul:\n                     # split a long numerator\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/printing/latex.py b/sympy/printing/latex.py\nindex df1a5c2..6f46e55 100644\n--- a/sympy/printing/latex.py\n+++ b/sympy/printing/latex.py\n@@ -165,6 +165,7 @@ class LatexPrinter(Printer):\n                 include_parens = True\n         else:\n             tex = ''\n+        from sympy import Add\n         from sympy.simplify import fraction\n         numer, denom = fraction(expr, exact=True)\n         separator = self._settings['mul_symbol_latex']\n@@ -203,7 +204,7 @@ class LatexPrinter(Printer):\n                     tex += '%s / %s' % (snumer, sdenom)\n             elif len(snumer.split()) > ratio * ldenom:\n                 if self._needs_mul_brackets(numer, last=True):\n-                    tex += '\\\\frac{1}{%s}%s\\\\left(%s\\\\right)' % (sdenom, separator, snumer)\n+                    tex += '\\\\frac{%s}{%s}%s\\\\left(%s\\\\right)' % (sdenom, separator, snumer)\n                 elif numer.is_Mul:\n                     a = S.One\n                     b = S.One\n", "normalized_occurrence": 1}
