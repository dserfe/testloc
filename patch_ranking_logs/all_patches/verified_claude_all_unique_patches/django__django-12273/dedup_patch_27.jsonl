{"model_name_or_path": "agentless_claude", "instance_id": "django__django-12273", "model_patch": "diff --git a/django/db/models/fields/__init__.py b/django/db/models/fields/__init__.py\nindex b1efba3..3546da4 100644\n--- a/django/db/models/fields/__init__.py\n+++ b/django/db/models/fields/__init__.py\n@@ -2383,6 +2383,13 @@ class AutoFieldMixin:\n     def formfield(self, **kwargs):\n         return None\n \n+    def get_pk_value_on_save(self, instance):\n+        if instance.pk is None and not instance._state.adding:\n+            # If pk is None and this is not a new instance,\n+            # we want to force an update rather than an insert\n+            return instance.pk\n+        return None\n+\n \n class AutoFieldMeta(type):\n     \"\"\"\n", "occurrence": 1, "normalized_patch": "--- a/django/db/models/fields/__init__.py\n+++ b/django/db/models/fields/__init__.py\n+    def get_pk_value_on_save(self, instance):\n+        if instance.pk is None and (not instance._state.adding):\n+            return instance.pk\n+        return None", "normalized_occurrence": 1}
