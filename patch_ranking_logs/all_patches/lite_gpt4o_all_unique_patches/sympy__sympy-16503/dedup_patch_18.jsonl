{"model_name_or_path": "agentless", "instance_id": "sympy__sympy-16503", "model_patch": "diff --git a/sympy/printing/pretty/pretty.py b/sympy/printing/pretty/pretty.py\nindex 13a0bc7..677e4bc 100644\n--- a/sympy/printing/pretty/pretty.py\n+++ b/sympy/printing/pretty/pretty.py\n@@ -528,7 +528,7 @@ class PrettyPrinter(Printer):\n \n             pretty_func = prettyForm(*pretty_sign.right(pretty_func))\n \n-        pretty_func.baseline = max_upper + sign_height//2\n+        pretty_func.baseline = max_upper + (sign_height + pretty_func.height())//2 - pretty_func.height()\n         pretty_func.binding = prettyForm.MUL\n         return pretty_func\n \n@@ -621,6 +621,9 @@ class PrettyPrinter(Printer):\n                 prettyF.baseline -= d - (prettyF.height()//2 -\n                                          prettyF.baseline) - adjustment\n                 first = False\n+                # Adjust the baseline of the addition after the sum\n+                if f.is_Add:\n+                    prettyF.baseline = prettyF.height() // 2\n \n             # put padding to the right\n             pad = stringPict('')\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/printing/pretty/pretty.py b/sympy/printing/pretty/pretty.py\nindex 28e3ea8..c3bd9ad 100644\n--- a/sympy/printing/pretty/pretty.py\n+++ b/sympy/printing/pretty/pretty.py\n@@ -387,7 +387,7 @@ class PrettyPrinter(Printer):\n             padding = prettyForm(*padding.stack(*[' '] * (height - 1)))\n             pretty_sign = prettyForm(*pretty_sign.right(padding))\n             pretty_func = prettyForm(*pretty_sign.right(pretty_func))\n-        pretty_func.baseline = max_upper + sign_height // 2\n+        pretty_func.baseline = max_upper + (sign_height + pretty_func.height()) // 2 - pretty_func.height()\n         pretty_func.binding = prettyForm.MUL\n         return pretty_func\n     def _print_Sum(self, expr):\n@@ -460,6 +460,8 @@ class PrettyPrinter(Printer):\n             if first:\n                 prettyF.baseline -= d - (prettyF.height() // 2 - prettyF.baseline) - adjustment\n                 first = False\n+                if f.is_Add:\n+                    prettyF.baseline = prettyF.height() // 2\n             pad = stringPict('')\n             pad = prettyForm(*pad.stack(*[' '] * h))\n             prettySign = prettyForm(*prettySign.right(pad))\n", "normalized_occurrence": 1}
