{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-20488", "model_patch": "diff --git a/lib/matplotlib/image.py b/lib/matplotlib/image.py\nindex 7f3e359..9376573 100644\n--- a/lib/matplotlib/image.py\n+++ b/lib/matplotlib/image.py\n@@ -535,6 +535,9 @@ class _ImageBase(martist.Artist, cm.ScalarMappable):\n                 if isinstance(self.norm, mcolors.LogNorm):\n                     if s_vmin < 0:\n                         s_vmin = max(s_vmin, np.finfo(scaled_dtype).eps)\n+                    # Handle extremely large values to prevent overflow\n+                    s_vmin = min(s_vmin, np.finfo(scaled_dtype).max)\n+                    s_vmax = min(s_vmax, np.finfo(scaled_dtype).max)\n                 with cbook._setattr_cm(self.norm,\n                                        vmin=s_vmin,\n                                        vmax=s_vmax,\n", "normalized_patch": "diff --git a/lib/matplotlib/image.py b/lib/matplotlib/image.py\nindex 21afb66..6b04610 100644\n--- a/lib/matplotlib/image.py\n+++ b/lib/matplotlib/image.py\n@@ -224,6 +224,8 @@ class _ImageBase(martist.Artist, cm.ScalarMappable):\n                 if isinstance(self.norm, mcolors.LogNorm):\n                     if s_vmin < 0:\n                         s_vmin = max(s_vmin, np.finfo(scaled_dtype).eps)\n+                    s_vmin = min(s_vmin, np.finfo(scaled_dtype).max)\n+                    s_vmax = min(s_vmax, np.finfo(scaled_dtype).max)\n                 with cbook._setattr_cm(self.norm, vmin=s_vmin, vmax=s_vmax):\n                     output = self.norm(resampled_masked)\n             else:\n", "normalized_occurrence": 1}
