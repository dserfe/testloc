{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-25479", "model_patch": "diff --git a/lib/matplotlib/cm.py b/lib/matplotlib/cm.py\nindex 79762f1..7b8491e 100644\n--- a/lib/matplotlib/cm.py\n+++ b/lib/matplotlib/cm.py\n@@ -396,6 +396,9 @@ class ScalarMappable:\n         self._norm = None  # So that the setter knows we're initializing.\n         self.set_norm(norm)  # The Normalize instance of this ScalarMappable.\n         self.cmap = None  # So that the setter knows we're initializing.\n+        # If cmap is a string, ensure we get it from the registry\n+        if isinstance(cmap, str):\n+            cmap = _colormaps[cmap]\n         self.set_cmap(cmap)  # The Colormap instance of this ScalarMappable.\n         #: The last colorbar associated with this ScalarMappable. May be None.\n         self.colorbar = None\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/cm.py b/lib/matplotlib/cm.py\nindex aa7fbd0..4e51e65 100644\n--- a/lib/matplotlib/cm.py\n+++ b/lib/matplotlib/cm.py\n@@ -97,6 +97,8 @@ class ScalarMappable:\n         self._norm = None\n         self.set_norm(norm)\n         self.cmap = None\n+        if isinstance(cmap, str):\n+            cmap = _colormaps[cmap]\n         self.set_cmap(cmap)\n         self.colorbar = None\n         self.callbacks = cbook.CallbackRegistry(signals=['changed'])\n", "normalized_occurrence": 1}
