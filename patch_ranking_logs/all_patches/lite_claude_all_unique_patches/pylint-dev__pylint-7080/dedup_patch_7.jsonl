{"model_name_or_path": "agentless_claude", "instance_id": "pylint-dev__pylint-7080", "model_patch": "diff --git a/pylint/lint/expand_modules.py b/pylint/lint/expand_modules.py\nindex 848c4b9..c767cd0 100644\n--- a/pylint/lint/expand_modules.py\n+++ b/pylint/lint/expand_modules.py\n@@ -90,6 +90,9 @@ def expand_modules(\n             except ImportError:\n                 modname = os.path.splitext(basename)[0]\n             if os.path.isdir(something):\n+                # Check if directory should be ignored before processing it\n+                if _is_ignored_file(something, ignore_list, ignore_list_re, ignore_list_paths_re):\n+                    continue\n                 filepath = os.path.join(something, \"__init__.py\")\n             else:\n                 filepath = something\n@@ -158,4 +161,4 @@ def expand_modules(\n                         \"basename\": modname,\n                     }\n                 )\n-    return result, errors\n+    return result, errors\n", "occurrence": 1, "normalized_patch": "diff --git a/pylint/lint/expand_modules.py b/pylint/lint/expand_modules.py\nindex 7e5c7c0..8503c28 100644\n--- a/pylint/lint/expand_modules.py\n+++ b/pylint/lint/expand_modules.py\n@@ -41,6 +41,8 @@ def expand_modules(files_or_modules: Sequence[str], ignore_list: list[str], igno\n             except ImportError:\n                 modname = os.path.splitext(basename)[0]\n             if os.path.isdir(something):\n+                if _is_ignored_file(something, ignore_list, ignore_list_re, ignore_list_paths_re):\n+                    continue\n                 filepath = os.path.join(something, '__init__.py')\n             else:\n                 filepath = something\n", "normalized_occurrence": 1}
