{"model_name_or_path": "agentless", "instance_id": "mwaskom__seaborn-2848", "model_patch": "diff --git a/seaborn/axisgrid.py b/seaborn/axisgrid.py\nindex 21c0562..6d2b880 100644\n--- a/seaborn/axisgrid.py\n+++ b/seaborn/axisgrid.py\n@@ -1464,7 +1464,8 @@ class PairGrid(Grid):\n                 if hue is not None:\n                     hue = hue[not_na]\n \n-            plot_kwargs.setdefault(\"hue\", hue)\n+            if \"hue\" in signature(func).parameters:\n+                plot_kwargs.setdefault(\"hue\", hue)\n             plot_kwargs.setdefault(\"hue_order\", self._hue_order)\n             plot_kwargs.setdefault(\"palette\", self._orig_palette)\n             func(x=vector, **plot_kwargs)\n@@ -1551,12 +1552,15 @@ class PairGrid(Grid):\n         else:\n             axes_vars = [x_var, y_var]\n \n-        if self._hue_var is not None and self._hue_var not in axes_vars:\n-            axes_vars.append(self._hue_var)\n+        if self._hue_var is not None:\n+            if self._hue_var not in axes_vars:\n+                axes_vars.append(self._hue_var)\n \n-        data = self.data[axes_vars]\n-        if self._dropna:\n-            data = data.dropna()\n+            data = self.data[axes_vars]\n+            if self._dropna:\n+                data = data.dropna()\n+        else:\n+            data = self.data[axes_vars]\n \n         x = data[x_var]\n         y = data[y_var]\n", "occurrence": 1, "normalized_patch": "diff --git a/seaborn/axisgrid.py b/seaborn/axisgrid.py\nindex 0807052..261993c 100644\n--- a/seaborn/axisgrid.py\n+++ b/seaborn/axisgrid.py\n@@ -675,7 +675,8 @@ class PairGrid(Grid):\n                 vector = vector[not_na]\n                 if hue is not None:\n                     hue = hue[not_na]\n-            plot_kwargs.setdefault('hue', hue)\n+            if 'hue' in signature(func).parameters:\n+                plot_kwargs.setdefault('hue', hue)\n             plot_kwargs.setdefault('hue_order', self._hue_order)\n             plot_kwargs.setdefault('palette', self._orig_palette)\n             func(x=vector, **plot_kwargs)\n@@ -736,11 +737,14 @@ class PairGrid(Grid):\n             axes_vars = [x_var]\n         else:\n             axes_vars = [x_var, y_var]\n-        if self._hue_var is not None and self._hue_var not in axes_vars:\n-            axes_vars.append(self._hue_var)\n-        data = self.data[axes_vars]\n-        if self._dropna:\n-            data = data.dropna()\n+        if self._hue_var is not None:\n+            if self._hue_var not in axes_vars:\n+                axes_vars.append(self._hue_var)\n+            data = self.data[axes_vars]\n+            if self._dropna:\n+                data = data.dropna()\n+        else:\n+            data = self.data[axes_vars]\n         x = data[x_var]\n         y = data[y_var]\n         if self._hue_var is None:\n", "normalized_occurrence": 1}
