{"model_name_or_path": "agentless", "instance_id": "django__django-16910", "model_patch": "diff --git a/django/db/models/sql/query.py b/django/db/models/sql/query.py\nindex 9d8d506..c6f9efb 100644\n--- a/django/db/models/sql/query.py\n+++ b/django/db/models/sql/query.py\n@@ -766,7 +766,7 @@ class Query(BaseExpression):\n                     continue\n                 field = reverse_rel.field\n                 field_select_mask = select_mask.setdefault(field, {})\n-            related_model = field.model._meta.concrete_model\n+                related_model = field.related_model._meta.concrete_model\n             self._get_defer_select_mask(\n                 related_model._meta, field_mask, field_select_mask\n             )\n", "occurrence": 1, "normalized_patch": "diff --git a/django/db/models/sql/query.py b/django/db/models/sql/query.py\nindex f8d5b2d..0ecda02 100644\n--- a/django/db/models/sql/query.py\n+++ b/django/db/models/sql/query.py\n@@ -405,7 +405,7 @@ class Query(BaseExpression):\n                     continue\n                 field = reverse_rel.field\n                 field_select_mask = select_mask.setdefault(field, {})\n-            related_model = field.model._meta.concrete_model\n+                related_model = field.related_model._meta.concrete_model\n             self._get_defer_select_mask(related_model._meta, field_mask, field_select_mask)\n         return select_mask\n     def _get_only_select_mask(self, opts, mask, select_mask=None):\n", "normalized_occurrence": 1}
