{"model_name_or_path": "agentless_claude", "instance_id": "sympy__sympy-11897", "model_patch": "diff --git a/sympy/printing/latex.py b/sympy/printing/latex.py\nindex 6f6ac51..ac155ec 100644\n--- a/sympy/printing/latex.py\n+++ b/sympy/printing/latex.py\n@@ -356,11 +356,20 @@ class LatexPrinter(Printer):\n         else:\n             tex = \"\"\n \n-        from sympy.simplify import fraction\n-        numer, denom = fraction(expr, exact=True)\n         separator = self._settings['mul_symbol_latex']\n         numbersep = self._settings['mul_symbol_latex_numbers']\n \n+        # Handle nested fractions more consistently with pretty printer\n+        if len(expr.args) == 2 and any(arg.is_Pow and arg.exp.is_negative for arg in expr.args):\n+            args = list(expr.args)\n+            for i, arg in enumerate(args):\n+                if arg.is_Pow and arg.exp.is_negative:\n+                    args[i] = Pow(arg.base, -arg.exp)\n+            numer, denom = S.One, Mul(*args)\n+        else:\n+            from sympy.simplify import fraction\n+            numer, denom = fraction(expr, exact=True)\n+\n         def convert(expr):\n             if not expr.is_Mul:\n                 return str(self._print(expr))\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/printing/latex.py b/sympy/printing/latex.py\nindex df1a5c2..c46379d 100644\n--- a/sympy/printing/latex.py\n+++ b/sympy/printing/latex.py\n@@ -165,10 +165,17 @@ class LatexPrinter(Printer):\n                 include_parens = True\n         else:\n             tex = ''\n-        from sympy.simplify import fraction\n-        numer, denom = fraction(expr, exact=True)\n         separator = self._settings['mul_symbol_latex']\n         numbersep = self._settings['mul_symbol_latex_numbers']\n+        if len(expr.args) == 2 and any((arg.is_Pow and arg.exp.is_negative for arg in expr.args)):\n+            args = list(expr.args)\n+            for i, arg in enumerate(args):\n+                if arg.is_Pow and arg.exp.is_negative:\n+                    args[i] = Pow(arg.base, -arg.exp)\n+            numer, denom = (S.One, Mul(*args))\n+        else:\n+            from sympy.simplify import fraction\n+            numer, denom = fraction(expr, exact=True)\n         def convert(expr):\n             if not expr.is_Mul:\n                 return str(self._print(expr))\n", "normalized_occurrence": 1}
