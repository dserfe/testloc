{"model_name_or_path": "agentless_claude", "instance_id": "django__django-14752", "model_patch": "diff --git a/django/contrib/admin/views/autocomplete.py b/django/contrib/admin/views/autocomplete.py\nindex cbda0a6..042bc12 100644\n--- a/django/contrib/admin/views/autocomplete.py\n+++ b/django/contrib/admin/views/autocomplete.py\n@@ -1,3 +1,4 @@\n+\n from django.apps import apps\n from django.core.exceptions import FieldDoesNotExist, PermissionDenied\n from django.http import Http404, JsonResponse\n@@ -26,7 +27,7 @@ class AutocompleteJsonView(BaseListView):\n         context = self.get_context_data()\n         return JsonResponse({\n             'results': [\n-                {'id': str(getattr(obj, to_field_name)), 'text': str(obj)}\n+                self.serialize_result(obj, to_field_name)\n                 for obj in context['object_list']\n             ],\n             'pagination': {'more': context['page_obj'].has_next()},\n@@ -97,6 +98,14 @@ class AutocompleteJsonView(BaseListView):\n \n         return term, model_admin, source_field, to_field_name\n \n+    def serialize_result(self, obj, to_field_name):\n+        \"\"\"\n+        Convert the provided model object into a dict for the JSON response.\n+        \n+        Override this method to customize the result format.\n+        \"\"\"\n+        return {'id': str(getattr(obj, to_field_name)), 'text': str(obj)}\n+\n     def has_perm(self, request, obj=None):\n         \"\"\"Check if user has permission to access the related model.\"\"\"\n-        return self.model_admin.has_view_permission(request, obj=obj)\n+        return self.model_admin.has_view_permission(request, obj=obj)\n", "occurrence": 1, "normalized_patch": "diff --git a/django/contrib/admin/views/autocomplete.py b/django/contrib/admin/views/autocomplete.py\nindex d2518fd..202007c 100644\n--- a/django/contrib/admin/views/autocomplete.py\n+++ b/django/contrib/admin/views/autocomplete.py\n@@ -11,7 +11,7 @@ class AutocompleteJsonView(BaseListView):\n             raise PermissionDenied\n         self.object_list = self.get_queryset()\n         context = self.get_context_data()\n-        return JsonResponse({'results': [{'id': str(getattr(obj, to_field_name)), 'text': str(obj)} for obj in context['object_list']], 'pagination': {'more': context['page_obj'].has_next()}})\n+        return JsonResponse({'results': [self.serialize_result(obj, to_field_name) for obj in context['object_list']], 'pagination': {'more': context['page_obj'].has_next()}})\n     def get_paginator(self, *args, **kwargs):\n         return self.model_admin.get_paginator(self.request, *args, **kwargs)\n     def get_queryset(self):\n@@ -52,5 +52,7 @@ class AutocompleteJsonView(BaseListView):\n         if not model_admin.to_field_allowed(request, to_field_name):\n             raise PermissionDenied\n         return (term, model_admin, source_field, to_field_name)\n+    def serialize_result(self, obj, to_field_name):\n+        return {'id': str(getattr(obj, to_field_name)), 'text': str(obj)}\n     def has_perm(self, request, obj=None):\n         return self.model_admin.has_view_permission(request, obj=obj)\n\\ No newline at end of file\n", "normalized_occurrence": 9}
