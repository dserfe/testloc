{"model_name_or_path": "agentless_claude", "instance_id": "pydata__xarray-3305", "model_patch": "diff --git a/xarray/core/computation.py b/xarray/core/computation.py\nindex 41161fc..7f59f23 100644\n--- a/xarray/core/computation.py\n+++ b/xarray/core/computation.py\n@@ -246,6 +246,13 @@ def apply_dataarray_vfunc(\n     else:\n         coords, = result_coords\n         out = DataArray(result_var, coords, name=name, fastpath=True)\n+        \n+    if keep_attrs and hasattr(args[0], 'attrs'):\n+        if signature.num_outputs > 1:\n+            for da in out:\n+                da.attrs.update(args[0].attrs)\n+        else:\n+            out.attrs.update(args[0].attrs)\n \n     return out\n \n", "occurrence": 1, "normalized_patch": "diff --git a/xarray/core/computation.py b/xarray/core/computation.py\nindex 9802374..fb94409 100644\n--- a/xarray/core/computation.py\n+++ b/xarray/core/computation.py\n@@ -119,6 +119,12 @@ def apply_dataarray_vfunc(func, *args, signature, join='inner', exclude_dims=fro\n     else:\n         coords, = result_coords\n         out = DataArray(result_var, coords, name=name, fastpath=True)\n+    if keep_attrs and hasattr(args[0], 'attrs'):\n+        if signature.num_outputs > 1:\n+            for da in out:\n+                da.attrs.update(args[0].attrs)\n+        else:\n+            out.attrs.update(args[0].attrs)\n     return out\n def ordered_set_union(all_keys: List[Iterable]) -> Iterable:\n     result_dict = OrderedDict()\n", "normalized_occurrence": 4}
