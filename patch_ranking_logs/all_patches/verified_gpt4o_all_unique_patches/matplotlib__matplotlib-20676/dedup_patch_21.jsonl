{"model_name_or_path": "agentless", "instance_id": "matplotlib__matplotlib-20676", "model_patch": "diff --git a/lib/matplotlib/widgets.py b/lib/matplotlib/widgets.py\nindex a6bed3c..90611bd 100644\n--- a/lib/matplotlib/widgets.py\n+++ b/lib/matplotlib/widgets.py\n@@ -2283,9 +2283,17 @@ class SpanSelector(_SelectorWidget):\n         if self.direction == 'horizontal':\n             self._rect.set_x(vmin)\n             self._rect.set_width(vmax - vmin)\n+            # Ensure the x-axis limits do not include 0 unless necessary\n+            xmin, xmax = self.ax.get_xlim()\n+            if xmin != 0:\n+                self.ax.set_xlim(min(xmin, vmin), max(xmax, vmax))\n         else:\n             self._rect.set_y(vmin)\n             self._rect.set_height(vmax - vmin)\n+            # Ensure the y-axis limits do not include 0 unless necessary\n+            ymin, ymax = self.ax.get_ylim()\n+            if ymin != 0:\n+                self.ax.set_ylim(min(ymin, vmin), max(ymax, vmax))\n \n     def _set_active_handle(self, event):\n         \"\"\"Set active handle based on the location of the mouse event.\"\"\"\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/widgets.py b/lib/matplotlib/widgets.py\nindex b2dd641..132d264 100644\n--- a/lib/matplotlib/widgets.py\n+++ b/lib/matplotlib/widgets.py\n@@ -1861,9 +1861,15 @@ class SpanSelector(_SelectorWidget):\n         if self.direction == 'horizontal':\n             self._rect.set_x(vmin)\n             self._rect.set_width(vmax - vmin)\n+            xmin, xmax = self.ax.get_xlim()\n+            if xmin != 0:\n+                self.ax.set_xlim(min(xmin, vmin), max(xmax, vmax))\n         else:\n             self._rect.set_y(vmin)\n             self._rect.set_height(vmax - vmin)\n+            ymin, ymax = self.ax.get_ylim()\n+            if ymin != 0:\n+                self.ax.set_ylim(min(ymin, vmin), max(ymax, vmax))\n \n     def _set_active_handle(self, event):\n         \"\"\"Set active handle based on the location of the mouse event.\"\"\"\n", "normalized_occurrence": 1}
