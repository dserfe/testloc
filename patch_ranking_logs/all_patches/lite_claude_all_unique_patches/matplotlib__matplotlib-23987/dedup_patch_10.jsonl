{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-23987", "model_patch": "diff --git a/lib/matplotlib/figure.py b/lib/matplotlib/figure.py\nindex 71845c8..5ac7649 100644\n--- a/lib/matplotlib/figure.py\n+++ b/lib/matplotlib/figure.py\n@@ -2549,7 +2549,12 @@ class Figure(FigureBase):\n             like padding and margin sizes.  Only used if *layout* is a string.\n \n         \"\"\"\n-        if layout is None:\n+        if layout is None or layout is False:\n+            # If layout is explicitly False or None, don't use any layout engine\n+            self._layout_engine = None\n+            return\n+        if layout is True:\n+            # If layout is explicitly True, use rcParams to determine the engine\n             if mpl.rcParams['figure.autolayout']:\n                 layout = 'tight'\n             elif mpl.rcParams['figure.constrained_layout.use']:\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/figure.py b/lib/matplotlib/figure.py\nindex 57abfc4..9d4bfdf 100644\n--- a/lib/matplotlib/figure.py\n+++ b/lib/matplotlib/figure.py\n@@ -759,7 +759,10 @@ class Figure(FigureBase):\n                 return False\n         return True\n     def set_layout_engine(self, layout=None, **kwargs):\n-        if layout is None:\n+        if layout is None or layout is False:\n+            self._layout_engine = None\n+            return\n+        if layout is True:\n             if mpl.rcParams['figure.autolayout']:\n                 layout = 'tight'\n             elif mpl.rcParams['figure.constrained_layout.use']:\n", "normalized_occurrence": 1}
