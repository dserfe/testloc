{"model_name_or_path": "agentless", "instance_id": "pylint-dev__pylint-6528", "model_patch": "diff --git a/pylint/lint/expand_modules.py b/pylint/lint/expand_modules.py\nindex 94af730..2e99604 100644\n--- a/pylint/lint/expand_modules.py\n+++ b/pylint/lint/expand_modules.py\n@@ -65,6 +65,7 @@ def expand_modules(\n             basename in ignore_list\n             or _is_in_ignore_list_re(os.path.basename(something), ignore_list_re)\n             or _is_in_ignore_list_re(something, ignore_list_paths_re)\n+            or any(os.path.commonpath([something, os.path.abspath(ignore)]) == os.path.abspath(ignore) for ignore in ignore_list)\n         ):\n             continue\n         module_path = get_python_path(something)\n@@ -78,6 +79,8 @@ def expand_modules(\n             except ImportError:\n                 modname = os.path.splitext(basename)[0]\n             if os.path.isdir(something):\n+                if any(os.path.commonpath([something, os.path.abspath(ignore)]) == os.path.abspath(ignore) for ignore in ignore_list):\n+                    continue\n                 filepath = os.path.join(something, \"__init__.py\")\n             else:\n                 filepath = something\n@@ -146,4 +149,4 @@ def expand_modules(\n                         \"basename\": modname,\n                     }\n                 )\n-    return result, errors\n+    return result, errors\n", "occurrence": 1, "normalized_patch": "diff --git a/pylint/lint/expand_modules.py b/pylint/lint/expand_modules.py\nindex 37bdd47..6de658f 100644\n--- a/pylint/lint/expand_modules.py\n+++ b/pylint/lint/expand_modules.py\n@@ -28,7 +28,7 @@ def expand_modules(files_or_modules: Sequence[str], ignore_list: list[str], igno\n     path = sys.path.copy()\n     for something in files_or_modules:\n         basename = os.path.basename(something)\n-        if basename in ignore_list or _is_in_ignore_list_re(os.path.basename(something), ignore_list_re) or _is_in_ignore_list_re(something, ignore_list_paths_re):\n+        if basename in ignore_list or _is_in_ignore_list_re(os.path.basename(something), ignore_list_re) or _is_in_ignore_list_re(something, ignore_list_paths_re) or any((os.path.commonpath([something, os.path.abspath(ignore)]) == os.path.abspath(ignore) for ignore in ignore_list)):\n             continue\n         module_path = get_python_path(something)\n         additional_search_path = ['.', module_path] + path\n@@ -38,6 +38,8 @@ def expand_modules(files_or_modules: Sequence[str], ignore_list: list[str], igno\n             except ImportError:\n                 modname = os.path.splitext(basename)[0]\n             if os.path.isdir(something):\n+                if any((os.path.commonpath([something, os.path.abspath(ignore)]) == os.path.abspath(ignore) for ignore in ignore_list)):\n+                    continue\n                 filepath = os.path.join(something, '__init__.py')\n             else:\n                 filepath = something\n", "normalized_occurrence": 1}
