{"model_name_or_path": "agentless", "instance_id": "matplotlib__matplotlib-23987", "model_patch": "diff --git a/lib/matplotlib/figure.py b/lib/matplotlib/figure.py\nindex 71845c8..540041a 100644\n--- a/lib/matplotlib/figure.py\n+++ b/lib/matplotlib/figure.py\n@@ -2708,7 +2708,8 @@ class Figure(FigureBase):\n             tight = mpl.rcParams['figure.autolayout']\n         _tight_parameters = tight if isinstance(tight, dict) else {}\n         if bool(tight):\n-            self.set_layout_engine(TightLayoutEngine(**_tight_parameters))\n+            if not self.get_constrained_layout():\n+                self.set_layout_engine(TightLayoutEngine(**_tight_parameters))\n         self.stale = True\n \n     def get_constrained_layout(self):\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/figure.py b/lib/matplotlib/figure.py\nindex 57abfc4..d4022c4 100644\n--- a/lib/matplotlib/figure.py\n+++ b/lib/matplotlib/figure.py\n@@ -828,7 +828,8 @@ class Figure(FigureBase):\n             tight = mpl.rcParams['figure.autolayout']\n         _tight_parameters = tight if isinstance(tight, dict) else {}\n         if bool(tight):\n-            self.set_layout_engine(TightLayoutEngine(**_tight_parameters))\n+            if not self.get_constrained_layout():\n+                self.set_layout_engine(TightLayoutEngine(**_tight_parameters))\n         self.stale = True\n     def get_constrained_layout(self):\n         return isinstance(self.get_layout_engine(), ConstrainedLayoutEngine)\n", "normalized_occurrence": 1}
