{"model_name_or_path": "agentless", "instance_id": "django__django-15819", "model_patch": "diff --git a/django/db/models/fields/related.py b/django/db/models/fields/related.py\nindex 88647b6..ccf590d 100644\n--- a/django/db/models/fields/related.py\n+++ b/django/db/models/fields/related.py\n@@ -350,10 +350,9 @@ class RelatedField(FieldCacheMixin, Field):\n         self.opts = cls._meta\n \n         if not cls._meta.abstract:\n-            if self.remote_field.related_name:\n-                related_name = self.remote_field.related_name\n-            else:\n-                related_name = self.opts.default_related_name\n+            if not self.remote_field.related_name:\n+                self.remote_field.related_name = f\"{name}_set\"\n+            related_name = self.remote_field.related_name\n             if related_name:\n                 related_name = related_name % {\n                     \"class\": cls.__name__.lower(),\n", "occurrence": 1, "normalized_patch": "diff --git a/django/db/models/fields/related.py b/django/db/models/fields/related.py\nindex 350a5a0..fb881be 100644\n--- a/django/db/models/fields/related.py\n+++ b/django/db/models/fields/related.py\n@@ -110,10 +110,9 @@ class RelatedField(FieldCacheMixin, Field):\n         super().contribute_to_class(cls, name, private_only=private_only, **kwargs)\n         self.opts = cls._meta\n         if not cls._meta.abstract:\n-            if self.remote_field.related_name:\n-                related_name = self.remote_field.related_name\n-            else:\n-                related_name = self.opts.default_related_name\n+            if not self.remote_field.related_name:\n+                self.remote_field.related_name = f'{name}_set'\n+            related_name = self.remote_field.related_name\n             if related_name:\n                 related_name = related_name % {'class': cls.__name__.lower(), 'model_name': cls._meta.model_name.lower(), 'app_label': cls._meta.app_label.lower()}\n                 self.remote_field.related_name = related_name\n", "normalized_occurrence": 1}
