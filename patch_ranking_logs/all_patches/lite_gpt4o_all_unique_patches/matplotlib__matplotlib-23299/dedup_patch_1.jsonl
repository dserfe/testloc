{"model_name_or_path": "agentless", "instance_id": "matplotlib__matplotlib-23299", "model_patch": "diff --git a/lib/matplotlib/_pylab_helpers.py b/lib/matplotlib/_pylab_helpers.py\nindex 3123d3a..28cf07b 100644\n--- a/lib/matplotlib/_pylab_helpers.py\n+++ b/lib/matplotlib/_pylab_helpers.py\n@@ -1,3 +1,4 @@\n+\n \"\"\"\n Manage figures for the pyplot interface.\n \"\"\"\n@@ -122,7 +123,9 @@ class Gcf:\n         label = fig.get_label()\n         if label:\n             manager.set_window_title(label)\n-        cls.set_active(manager)\n+        # Ensure the active manager is set without clearing figures created under rc_context\n+        if manager is not None:\n+            cls.set_active(manager)\n \n     @classmethod\n     def set_active(cls, manager):\n@@ -141,4 +144,4 @@ class Gcf:\n                 manager.canvas.draw_idle()\n \n \n-atexit.register(Gcf.destroy_all)\n+atexit.register(Gcf.destroy_all)\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/_pylab_helpers.py b/lib/matplotlib/_pylab_helpers.py\nindex 75c28d8..255857b 100644\n--- a/lib/matplotlib/_pylab_helpers.py\n+++ b/lib/matplotlib/_pylab_helpers.py\n@@ -59,7 +59,8 @@ class Gcf:\n         label = fig.get_label()\n         if label:\n             manager.set_window_title(label)\n-        cls.set_active(manager)\n+        if manager is not None:\n+            cls.set_active(manager)\n     @classmethod\n     def set_active(cls, manager):\n         cls.figs[manager.num] = manager\n", "normalized_occurrence": 1}
