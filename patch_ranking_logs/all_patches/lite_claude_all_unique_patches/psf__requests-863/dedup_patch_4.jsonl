{"model_name_or_path": "agentless_claude", "instance_id": "psf__requests-863", "model_patch": "diff --git a/requests/hooks.py b/requests/hooks.py\nindex 2c937f2..618c46a 100644\n--- a/requests/hooks.py\n+++ b/requests/hooks.py\n@@ -37,8 +37,15 @@ def dispatch_hook(key, hooks, hook_data):\n     if key in hooks:\n         hooks = hooks.get(key)\n \n-        if hasattr(hooks, '__call__'):\n+        # Ensure hooks is always a list\n+        if hooks is None:\n+            return hook_data\n+        elif callable(hooks):\n             hooks = [hooks]\n+        elif isinstance(hooks, (list, tuple)):\n+            hooks = list(hooks)\n+        else:\n+            raise TypeError(\"hooks must be callable or a list/tuple of callables\")\n \n         for hook in hooks:\n             _hook_data = hook(hook_data)\n@@ -46,4 +53,4 @@ def dispatch_hook(key, hooks, hook_data):\n                 hook_data = _hook_data\n \n \n-    return hook_data\n+    return hook_data\n", "occurrence": 1, "normalized_patch": "diff --git a/requests/hooks.py b/requests/hooks.py\nindex 7057710..f688c95 100644\n--- a/requests/hooks.py\n+++ b/requests/hooks.py\n@@ -3,8 +3,14 @@ def dispatch_hook(key, hooks, hook_data):\n     hooks = hooks or dict()\n     if key in hooks:\n         hooks = hooks.get(key)\n-        if hasattr(hooks, '__call__'):\n+        if hooks is None:\n+            return hook_data\n+        elif callable(hooks):\n             hooks = [hooks]\n+        elif isinstance(hooks, (list, tuple)):\n+            hooks = list(hooks)\n+        else:\n+            raise TypeError('hooks must be callable or a list/tuple of callables')\n         for hook in hooks:\n             _hook_data = hook(hook_data)\n             if _hook_data is not None:\n", "normalized_occurrence": 1}
