{"model_name_or_path": "agentless", "instance_id": "sphinx-doc__sphinx-7910", "model_patch": "diff --git a/sphinx/util/inspect.py b/sphinx/util/inspect.py\nindex f48faa1..57886b2 100644\n--- a/sphinx/util/inspect.py\n+++ b/sphinx/util/inspect.py\n@@ -128,6 +128,25 @@ def unwrap(obj: Any) -> Any:\n \n \n def unwrap_all(obj: Any, *, stop: Callable = None) -> Any:\n+    \"\"\"\n+    Get an original object from wrapped object (unwrapping partials, wrapped\n+    functions, and other decorators).\n+    \"\"\"\n+    unwrapped = obj\n+    while True:\n+        if stop and stop(unwrapped):\n+            return unwrapped\n+        elif ispartial(unwrapped):\n+            unwrapped = unwrapped.func\n+        elif inspect.isroutine(unwrapped) and hasattr(unwrapped, '__wrapped__'):\n+            unwrapped = unwrapped.__wrapped__\n+        elif isclassmethod(unwrapped):\n+            unwrapped = unwrapped.__func__\n+        elif isstaticmethod(unwrapped):\n+            unwrapped = unwrapped.__func__\n+        else:\n+            return unwrapped\n+    return unwrapped\n     \"\"\"\n     Get an original object from wrapped object (unwrapping partials, wrapped\n     functions, and other decorators).\n", "occurrence": 1, "normalized_patch": "diff --git a/sphinx/util/inspect.py b/sphinx/util/inspect.py\nindex 6e5e6c6..eebaacc 100644\n--- a/sphinx/util/inspect.py\n+++ b/sphinx/util/inspect.py\n@@ -70,6 +70,21 @@ def unwrap(obj: Any) -> Any:\n     except ValueError:\n         return obj\n def unwrap_all(obj: Any, *, stop: Callable=None) -> Any:\n+    unwrapped = obj\n+    while True:\n+        if stop and stop(unwrapped):\n+            return unwrapped\n+        elif ispartial(unwrapped):\n+            unwrapped = unwrapped.func\n+        elif inspect.isroutine(unwrapped) and hasattr(unwrapped, '__wrapped__'):\n+            unwrapped = unwrapped.__wrapped__\n+        elif isclassmethod(unwrapped):\n+            unwrapped = unwrapped.__func__\n+        elif isstaticmethod(unwrapped):\n+            unwrapped = unwrapped.__func__\n+        else:\n+            return unwrapped\n+    return unwrapped\n     while True:\n         if stop and stop(obj):\n             return obj\n", "normalized_occurrence": 1}
