{"model_name_or_path": "agentless", "instance_id": "matplotlib__matplotlib-23987", "model_patch": "diff --git a/lib/matplotlib/figure.py b/lib/matplotlib/figure.py\nindex 71845c8..901b9ca 100644\n--- a/lib/matplotlib/figure.py\n+++ b/lib/matplotlib/figure.py\n@@ -2557,7 +2557,10 @@ class Figure(FigureBase):\n             else:\n                 self._layout_engine = None\n                 return\n-        if layout == 'tight':\n+        if layout == 'none':\n+            self._layout_engine = None\n+            return\n+        elif layout == 'tight':\n             new_layout_engine = TightLayoutEngine(**kwargs)\n         elif layout == 'constrained':\n             new_layout_engine = ConstrainedLayoutEngine(**kwargs)\n@@ -2577,8 +2580,8 @@ class Figure(FigureBase):\n         else:\n             raise ValueError(f\"Invalid value for 'layout': {layout!r}\")\n \n-        if self._check_layout_engines_compat(self._layout_engine,\n-                                             new_layout_engine):\n+        if layout != 'none' and self._check_layout_engines_compat(self._layout_engine,\n+                                                                  new_layout_engine):\n             self._layout_engine = new_layout_engine\n         else:\n             raise RuntimeError('Colorbar layout of new layout engine not '\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/figure.py b/lib/matplotlib/figure.py\nindex 57abfc4..60fde21 100644\n--- a/lib/matplotlib/figure.py\n+++ b/lib/matplotlib/figure.py\n@@ -767,7 +767,10 @@ class Figure(FigureBase):\n             else:\n                 self._layout_engine = None\n                 return\n-        if layout == 'tight':\n+        if layout == 'none':\n+            self._layout_engine = None\n+            return\n+        elif layout == 'tight':\n             new_layout_engine = TightLayoutEngine(**kwargs)\n         elif layout == 'constrained':\n             new_layout_engine = ConstrainedLayoutEngine(**kwargs)\n@@ -782,7 +785,7 @@ class Figure(FigureBase):\n             new_layout_engine = layout\n         else:\n             raise ValueError(f\"Invalid value for 'layout': {layout!r}\")\n-        if self._check_layout_engines_compat(self._layout_engine, new_layout_engine):\n+        if layout != 'none' and self._check_layout_engines_compat(self._layout_engine, new_layout_engine):\n             self._layout_engine = new_layout_engine\n         else:\n             raise RuntimeError('Colorbar layout of new layout engine not compatible with old engine, and a colorbar has been created.  Engine not changed.')\n", "normalized_occurrence": 1}
