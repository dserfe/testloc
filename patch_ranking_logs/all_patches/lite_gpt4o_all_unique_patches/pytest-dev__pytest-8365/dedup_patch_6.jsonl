{"model_name_or_path": "agentless", "instance_id": "pytest-dev__pytest-8365", "model_patch": "diff --git a/src/_pytest/tmpdir.py b/src/_pytest/tmpdir.py\nindex cae5caf..4c7383c 100644\n--- a/src/_pytest/tmpdir.py\n+++ b/src/_pytest/tmpdir.py\n@@ -154,7 +154,10 @@ def get_user() -> Optional[str]:\n     import getpass\n \n     try:\n-        return getpass.getuser()\n+        username = getpass.getuser()\n+        # Sanitize the username to remove illegal characters for directory names\n+        sanitized_username = \"\".join(c for c in username if c.isalnum() or c in ('-', '_'))\n+        return sanitized_username\n     except (ImportError, KeyError):\n         return None\n \n", "occurrence": 1, "normalized_patch": "diff --git a/src/_pytest/tmpdir.py b/src/_pytest/tmpdir.py\nindex 6f08c0a..49b2015 100644\n--- a/src/_pytest/tmpdir.py\n+++ b/src/_pytest/tmpdir.py\n@@ -79,7 +79,9 @@ class TempdirFactory:\n def get_user() -> Optional[str]:\n     import getpass\n     try:\n-        return getpass.getuser()\n+        username = getpass.getuser()\n+        sanitized_username = ''.join((c for c in username if c.isalnum() or c in ('-', '_')))\n+        return sanitized_username\n     except (ImportError, KeyError):\n         return None\n def pytest_configure(config: Config) -> None:\n", "normalized_occurrence": 1}
