{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-25479", "model_patch": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 3c5d091..4a175f0 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2278,9 +2278,13 @@ def set_cmap(cmap: Colormap | str) -> None:\n     matplotlib.cm.register_cmap\n     matplotlib.cm.get_cmap\n     \"\"\"\n-    cmap = get_cmap(cmap)\n+    if isinstance(cmap, str):\n+        name = cmap\n+        cmap = get_cmap(cmap)\n+    else:\n+        name = cmap.name\n \n-    rc('image', cmap=cmap.name)\n+    rc('image', cmap=name)\n     im = gci()\n \n     if im is not None:\n", "occurrence": 2, "normalized_patch": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 1eb21f9..69baf24 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -541,8 +541,12 @@ def get_cmap(name: Colormap | str | None=None, lut: int | None=None) -> Colormap\n     return cm._get_cmap(name=name, lut=lut)\n get_cmap.__doc__ = cm._get_cmap.__doc__\n def set_cmap(cmap: Colormap | str) -> None:\n-    cmap = get_cmap(cmap)\n-    rc('image', cmap=cmap.name)\n+    if isinstance(cmap, str):\n+        name = cmap\n+        cmap = get_cmap(cmap)\n+    else:\n+        name = cmap.name\n+    rc('image', cmap=name)\n     im = gci()\n     if im is not None:\n         im.set_cmap(cmap)\n", "normalized_occurrence": 2}
