{"model_name_or_path": "agentless_claude", "instance_id": "sympy__sympy-23191", "model_patch": "diff --git a/sympy/printing/pretty/pretty.py b/sympy/printing/pretty/pretty.py\nindex 4e979d2..888b45b 100644\n--- a/sympy/printing/pretty/pretty.py\n+++ b/sympy/printing/pretty/pretty.py\n@@ -1145,12 +1145,10 @@ class PrettyPrinter(Printer):\n                 tempstr = partstr\n                 tempstr = tempstr.replace(vectstrs[i], '')\n                 if '\\N{right parenthesis extension}' in tempstr:   # If scalar is a fraction\n-                    for paren in range(len(tempstr)):\n-                        flag[i] = 1\n-                        if tempstr[paren] == '\\N{right parenthesis extension}':\n-                            tempstr = tempstr[:paren] + '\\N{right parenthesis extension}'\\\n-                                         + ' '  + vectstrs[i] + tempstr[paren + 1:]\n-                            break\n+                    flag[i] = 1\n+                    # Find the last right parenthesis extension\n+                    last_paren = tempstr.rindex('\\N{right parenthesis extension}')\n+                    tempstr = tempstr[:last_paren + 1] + ' ' + vectstrs[i] + tempstr[last_paren + 1:]\n                 elif '\\N{RIGHT PARENTHESIS LOWER HOOK}' in tempstr:\n                     flag[i] = 1\n                     tempstr = tempstr.replace('\\N{RIGHT PARENTHESIS LOWER HOOK}',\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/printing/pretty/pretty.py b/sympy/printing/pretty/pretty.py\nindex b00c794..eaf7d7a 100644\n--- a/sympy/printing/pretty/pretty.py\n+++ b/sympy/printing/pretty/pretty.py\n@@ -835,11 +835,9 @@ class PrettyPrinter(Printer):\n                 tempstr = partstr\n                 tempstr = tempstr.replace(vectstrs[i], '')\n                 if '\u239f' in tempstr:\n-                    for paren in range(len(tempstr)):\n-                        flag[i] = 1\n-                        if tempstr[paren] == '\u239f':\n-                            tempstr = tempstr[:paren] + '\u239f' + ' ' + vectstrs[i] + tempstr[paren + 1:]\n-                            break\n+                    flag[i] = 1\n+                    last_paren = tempstr.rindex('\u239f')\n+                    tempstr = tempstr[:last_paren + 1] + ' ' + vectstrs[i] + tempstr[last_paren + 1:]\n                 elif '\u23a0' in tempstr:\n                     flag[i] = 1\n                     tempstr = tempstr.replace('\u23a0', '\u23a0' + ' ' + vectstrs[i])\n", "normalized_occurrence": 1}
