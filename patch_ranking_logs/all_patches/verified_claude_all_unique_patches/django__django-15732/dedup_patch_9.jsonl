{"model_name_or_path": "agentless_claude", "instance_id": "django__django-15732", "model_patch": "diff --git a/django/db/backends/postgresql/schema.py b/django/db/backends/postgresql/schema.py\nindex fdd1271..4f9546e 100644\n--- a/django/db/backends/postgresql/schema.py\n+++ b/django/db/backends/postgresql/schema.py\n@@ -1,3 +1,4 @@\n+\n import psycopg2\n \n from django.db.backends.base.schema import BaseDatabaseSchemaEditor\n@@ -26,6 +27,7 @@ class DatabaseSchemaEditor(BaseDatabaseSchemaEditor):\n     )\n     sql_delete_index = \"DROP INDEX IF EXISTS %(name)s\"\n     sql_delete_index_concurrently = \"DROP INDEX CONCURRENTLY IF EXISTS %(name)s\"\n+    sql_delete_unique = \"ALTER TABLE %(table)s DROP CONSTRAINT IF EXISTS %(name)s\"\n \n     # Setting the constraint to IMMEDIATE to allow changing data in the same\n     # transaction.\n@@ -253,6 +255,14 @@ class DatabaseSchemaEditor(BaseDatabaseSchemaEditor):\n     def remove_index(self, model, index, concurrently=False):\n         self.execute(index.remove_sql(model, self, concurrently=concurrently))\n \n+    def _remove_unique_constraint(self, model, name):\n+        \"\"\"Remove a unique constraint, ignoring if other unique constraints exist.\"\"\"\n+        sql = self.sql_delete_unique % {\n+            \"table\": self.quote_name(model._meta.db_table),\n+            \"name\": self.quote_name(name),\n+        }\n+        self.execute(sql)\n+\n     def _delete_index_sql(self, model, name, sql=None, concurrently=False):\n         sql = (\n             self.sql_delete_index_concurrently\n@@ -296,4 +306,4 @@ class DatabaseSchemaEditor(BaseDatabaseSchemaEditor):\n             condition=condition,\n             include=include,\n             expressions=expressions,\n-        )\n+        )\n", "occurrence": 1, "normalized_patch": "--- a/django/db/backends/postgresql/schema.py\n+++ b/django/db/backends/postgresql/schema.py\n+    sql_delete_unique = 'ALTER TABLE %(table)s DROP CONSTRAINT IF EXISTS %(name)s'\n+    def _remove_unique_constraint(self, model, name):\n+        sql = self.sql_delete_unique % {'table': self.quote_name(model._meta.db_table), 'name': self.quote_name(name)}\n+        self.execute(sql)", "normalized_occurrence": 1}
