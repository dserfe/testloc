{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-24627", "model_patch": "diff --git a/lib/matplotlib/artist.py b/lib/matplotlib/artist.py\nindex a477466..ef45391 100644\n--- a/lib/matplotlib/artist.py\n+++ b/lib/matplotlib/artist.py\n@@ -715,8 +715,16 @@ class Artist:\n         # if this is a no-op just return\n         if self.figure is fig:\n             return\n-        # if we currently have a figure (the case of both `self.figure`\n-        # and *fig* being none is taken care of above) we then user is\n+\n+        # if fig is None, the artist is being removed from its figure\n+        if fig is None:\n+            self.figure = None\n+            self.axes = None  # also unset axes when removing from figure\n+            self.pchanged()\n+            self.stale = True\n+            return\n+\n+        # if we currently have a figure, we then user is\n         # trying to change the figure an artist is associated with which\n         # is not allowed for the same reason as adding the same instance\n         # to more than one Axes\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/artist.py b/lib/matplotlib/artist.py\nindex a361ed7..7148aa8 100644\n--- a/lib/matplotlib/artist.py\n+++ b/lib/matplotlib/artist.py\n@@ -254,6 +254,12 @@ class Artist:\n     def set_figure(self, fig):\n         if self.figure is fig:\n             return\n+        if fig is None:\n+            self.figure = None\n+            self.axes = None\n+            self.pchanged()\n+            self.stale = True\n+            return\n         if self.figure is not None:\n             raise RuntimeError('Can not put single artist in more than one figure')\n         self.figure = fig\n", "normalized_occurrence": 1}
