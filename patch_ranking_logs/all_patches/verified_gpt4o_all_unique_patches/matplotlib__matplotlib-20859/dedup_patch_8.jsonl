{"model_name_or_path": "agentless", "instance_id": "matplotlib__matplotlib-20859", "model_patch": "diff --git a/lib/matplotlib/legend.py b/lib/matplotlib/legend.py\nindex f63ebf0..d2cd8ea 100644\n--- a/lib/matplotlib/legend.py\n+++ b/lib/matplotlib/legend.py\n@@ -437,8 +437,11 @@ class Legend(Artist):\n         elif isinstance(parent, Figure):\n             self.isaxes = False\n             self.set_figure(parent)\n+        elif isinstance(parent, SubFigure):\n+            self.isaxes = False\n+            self.set_figure(parent)\n         else:\n-            raise TypeError(\"Legend needs either Axes or Figure as parent\")\n+            raise TypeError(\"Legend needs either Axes, Figure, or SubFigure as parent\")\n         self.parent = parent\n \n         self._loc_used_default = loc is None\n", "occurrence": 2, "normalized_patch": "diff --git a/lib/matplotlib/legend.py b/lib/matplotlib/legend.py\nindex 8dea438..f39265f 100644\n--- a/lib/matplotlib/legend.py\n+++ b/lib/matplotlib/legend.py\n@@ -97,8 +97,11 @@ class Legend(Artist):\n         elif isinstance(parent, Figure):\n             self.isaxes = False\n             self.set_figure(parent)\n+        elif isinstance(parent, SubFigure):\n+            self.isaxes = False\n+            self.set_figure(parent)\n         else:\n-            raise TypeError('Legend needs either Axes or Figure as parent')\n+            raise TypeError('Legend needs either Axes, Figure, or SubFigure as parent')\n         self.parent = parent\n         self._loc_used_default = loc is None\n         if loc is None:\n", "normalized_occurrence": 2}
