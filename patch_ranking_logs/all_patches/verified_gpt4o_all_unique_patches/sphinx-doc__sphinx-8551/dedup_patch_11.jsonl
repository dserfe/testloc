{"model_name_or_path": "agentless", "instance_id": "sphinx-doc__sphinx-8551", "model_patch": "diff --git a/sphinx/domains/python.py b/sphinx/domains/python.py\nindex f44a82b..621d350 100644\n--- a/sphinx/domains/python.py\n+++ b/sphinx/domains/python.py\n@@ -1259,10 +1259,14 @@ class PythonDomain(Domain):\n                     fullname = modname + '.' + classname + '.' + name\n                     if fullname in self.objects and self.objects[fullname].objtype in objtypes:\n                         newname = fullname\n-                if not newname:\n-                    if modname and modname + '.' + name in self.objects and \\\n-                       self.objects[modname + '.' + name].objtype in objtypes:\n+                if not newname and modname:\n+                    if modname + '.' + name in self.objects and self.objects[modname + '.' + name].objtype in objtypes:\n                         newname = modname + '.' + name\n+                    # check parent modules\n+                    elif '.' in modname:\n+                        parent_modname = '.'.join(modname.split('.')[:-1])\n+                        if parent_modname + '.' + name in self.objects and self.objects[parent_modname + '.' + name].objtype in objtypes:\n+                            newname = parent_modname + '.' + name\n                     elif name in self.objects and self.objects[name].objtype in objtypes:\n                         newname = name\n                     else:\n", "occurrence": 1, "normalized_patch": "diff --git a/sphinx/domains/python.py b/sphinx/domains/python.py\nindex 2ce105a..548bdfa 100644\n--- a/sphinx/domains/python.py\n+++ b/sphinx/domains/python.py\n@@ -758,9 +758,13 @@ class PythonDomain(Domain):\n                     fullname = modname + '.' + classname + '.' + name\n                     if fullname in self.objects and self.objects[fullname].objtype in objtypes:\n                         newname = fullname\n-                if not newname:\n-                    if modname and modname + '.' + name in self.objects and (self.objects[modname + '.' + name].objtype in objtypes):\n+                if not newname and modname:\n+                    if modname + '.' + name in self.objects and self.objects[modname + '.' + name].objtype in objtypes:\n                         newname = modname + '.' + name\n+                    elif '.' in modname:\n+                        parent_modname = '.'.join(modname.split('.')[:-1])\n+                        if parent_modname + '.' + name in self.objects and self.objects[parent_modname + '.' + name].objtype in objtypes:\n+                            newname = parent_modname + '.' + name\n                     elif name in self.objects and self.objects[name].objtype in objtypes:\n                         newname = name\n                     else:\n", "normalized_occurrence": 1}
