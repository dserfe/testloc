{"model_name_or_path": "agentless", "instance_id": "sympy__sympy-24661", "model_patch": "diff --git a/sympy/core/relational.py b/sympy/core/relational.py\nindex c35b72b..9ae0c1a 100644\n--- a/sympy/core/relational.py\n+++ b/sympy/core/relational.py\n@@ -614,11 +614,9 @@ class Equality(Relational):\n         lhs = _sympify(lhs)\n         rhs = _sympify(rhs)\n         if evaluate:\n-            val = is_eq(lhs, rhs)\n-            if val is None:\n-                return cls(lhs, rhs, evaluate=False)\n-            else:\n-                return _sympify(val)\n+            val = cls._eval_relation(lhs, rhs)\n+            if val is not None:\n+                return val\n \n         return Relational.__new__(cls, lhs, rhs)\n \n@@ -765,11 +763,9 @@ class Unequality(Relational):\n         rhs = _sympify(rhs)\n         evaluate = options.pop('evaluate', global_parameters.evaluate)\n         if evaluate:\n-            val = is_neq(lhs, rhs)\n-            if val is None:\n-                return cls(lhs, rhs, evaluate=False)\n-            else:\n-                return _sympify(val)\n+            val = cls._eval_relation(lhs, rhs)\n+            if val is not None:\n+                return val\n \n         return Relational.__new__(cls, lhs, rhs, **options)\n \n@@ -799,6 +795,15 @@ Ne = Unequality\n \n \n class _Inequality(Relational):\n+    def __new__(cls, lhs, rhs, **options):\n+        lhs = _sympify(lhs)\n+        rhs = _sympify(rhs)\n+        evaluate = options.pop('evaluate', global_parameters.evaluate)\n+        if evaluate:\n+            val = cls._eval_relation(lhs, rhs)\n+            if val is not None:\n+                return val\n+        return Relational.__new__(cls, lhs, rhs, **options)\n     \"\"\"Internal base class for all *Than types.\n \n     Each subclass must implement _eval_relation to provide the method for\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/core/relational.py b/sympy/core/relational.py\nindex 6f6b8fe..58473a0 100644\n--- a/sympy/core/relational.py\n+++ b/sympy/core/relational.py\n@@ -247,11 +247,9 @@ class Equality(Relational):\n         lhs = _sympify(lhs)\n         rhs = _sympify(rhs)\n         if evaluate:\n-            val = is_eq(lhs, rhs)\n-            if val is None:\n-                return cls(lhs, rhs, evaluate=False)\n-            else:\n-                return _sympify(val)\n+            val = cls._eval_relation(lhs, rhs)\n+            if val is not None:\n+                return val\n         return Relational.__new__(cls, lhs, rhs)\n     @classmethod\n     def _eval_relation(cls, lhs, rhs):\n@@ -316,11 +314,9 @@ class Unequality(Relational):\n         rhs = _sympify(rhs)\n         evaluate = options.pop('evaluate', global_parameters.evaluate)\n         if evaluate:\n-            val = is_neq(lhs, rhs)\n-            if val is None:\n-                return cls(lhs, rhs, evaluate=False)\n-            else:\n-                return _sympify(val)\n+            val = cls._eval_relation(lhs, rhs)\n+            if val is not None:\n+                return val\n         return Relational.__new__(cls, lhs, rhs, **options)\n     @classmethod\n     def _eval_relation(cls, lhs, rhs):\n@@ -340,6 +336,16 @@ class Unequality(Relational):\n         return eq.negated\n Ne = Unequality\n class _Inequality(Relational):\n+    def __new__(cls, lhs, rhs, **options):\n+        lhs = _sympify(lhs)\n+        rhs = _sympify(rhs)\n+        evaluate = options.pop('evaluate', global_parameters.evaluate)\n+        if evaluate:\n+            val = cls._eval_relation(lhs, rhs)\n+            if val is not None:\n+                return val\n+        return Relational.__new__(cls, lhs, rhs, **options)\n+    'Internal base class for all *Than types.\\n\\n    Each subclass must implement _eval_relation to provide the method for\\n    comparing two real numbers.\\n\\n    '\n     __slots__ = ()\n     def __new__(cls, lhs, rhs, **options):\n         try:\n", "normalized_occurrence": 1}
