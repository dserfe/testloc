{"model_name_or_path": "agentless_claude", "instance_id": "pylint-dev__pylint-7114", "model_patch": "diff --git a/pylint/lint/expand_modules.py b/pylint/lint/expand_modules.py\nindex a7d6e52..3cd82d9 100644\n--- a/pylint/lint/expand_modules.py\n+++ b/pylint/lint/expand_modules.py\n@@ -89,7 +89,13 @@ def expand_modules(\n                     modutils.modpath_from_file(something, path=additional_search_path)\n                 )\n             except ImportError:\n-                modname = os.path.splitext(basename)[0]\n+                # Handle the case where a file has the same name as its parent directory\n+                dirname = os.path.basename(os.path.dirname(something))\n+                basename_no_ext = os.path.splitext(basename)[0]\n+                if dirname == basename_no_ext:\n+                    modname = f\"{dirname}.{basename_no_ext}\"\n+                else:\n+                    modname = basename_no_ext\n             if os.path.isdir(something):\n                 filepath = os.path.join(something, \"__init__.py\")\n             else:\n", "occurrence": 2, "normalized_patch": "diff --git a/pylint/lint/expand_modules.py b/pylint/lint/expand_modules.py\nindex a1d3fbd..006db2d 100644\n--- a/pylint/lint/expand_modules.py\n+++ b/pylint/lint/expand_modules.py\n@@ -40,7 +40,12 @@ def expand_modules(files_or_modules: Sequence[str], ignore_list: list[str], igno\n             try:\n                 modname = '.'.join(modutils.modpath_from_file(something, path=additional_search_path))\n             except ImportError:\n-                modname = os.path.splitext(basename)[0]\n+                dirname = os.path.basename(os.path.dirname(something))\n+                basename_no_ext = os.path.splitext(basename)[0]\n+                if dirname == basename_no_ext:\n+                    modname = f'{dirname}.{basename_no_ext}'\n+                else:\n+                    modname = basename_no_ext\n             if os.path.isdir(something):\n                 filepath = os.path.join(something, '__init__.py')\n             else:\n", "normalized_occurrence": 2}
