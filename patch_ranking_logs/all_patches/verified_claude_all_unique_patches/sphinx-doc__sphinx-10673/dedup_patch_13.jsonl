{"model_name_or_path": "agentless_claude", "instance_id": "sphinx-doc__sphinx-10673", "model_patch": "diff --git a/sphinx/environment/adapters/toctree.py b/sphinx/environment/adapters/toctree.py\nindex 52ac0d3..892eebe 100644\n--- a/sphinx/environment/adapters/toctree.py\n+++ b/sphinx/environment/adapters/toctree.py\n@@ -116,10 +116,11 @@ class TocTree:\n             for (title, ref) in refs:\n                 try:\n                     refdoc = None\n-                    if url_re.match(ref):\n+                    # Handle special pages (genindex, modindex, search) and URLs\n+                    if ref in ('genindex', 'modindex', 'search') or url_re.match(ref):\n                         if title is None:\n                             title = ref\n-                        reference = nodes.reference('', '', internal=False,\n+                        reference = nodes.reference('', '', internal=True if ref in ('genindex', 'modindex', 'search') else False,\n                                                     refuri=ref, anchorname='',\n                                                     *[nodes.Text(title)])\n                         para = addnodes.compact_paragraph('', '', reference)\n", "occurrence": 1, "normalized_patch": "diff --git a/sphinx/environment/adapters/toctree.py b/sphinx/environment/adapters/toctree.py\nindex 07fcee3..532169a 100644\n--- a/sphinx/environment/adapters/toctree.py\n+++ b/sphinx/environment/adapters/toctree.py\n@@ -53,10 +53,10 @@ class TocTree:\n             for title, ref in refs:\n                 try:\n                     refdoc = None\n-                    if url_re.match(ref):\n+                    if ref in ('genindex', 'modindex', 'search') or url_re.match(ref):\n                         if title is None:\n                             title = ref\n-                        reference = nodes.reference('', '', *[nodes.Text(title)], internal=False, refuri=ref, anchorname='')\n+                        reference = nodes.reference('', '', *[nodes.Text(title)], internal=True if ref in ('genindex', 'modindex', 'search') else False, refuri=ref, anchorname='')\n                         para = addnodes.compact_paragraph('', '', reference)\n                         item = nodes.list_item('', para)\n                         toc = nodes.bullet_list('', item)\n", "normalized_occurrence": 1}
