{"model_name_or_path": "agentless", "instance_id": "sympy__sympy-13773", "model_patch": "diff --git a/sympy/matrices/expressions/matmul.py b/sympy/matrices/expressions/matmul.py\nindex 13b44f5..f1845fd 100644\n--- a/sympy/matrices/expressions/matmul.py\n+++ b/sympy/matrices/expressions/matmul.py\n@@ -144,6 +144,10 @@ def validate(*matrices):\n \n \n def newmul(*args):\n+    from sympy.matrices.common import MatrixCommon\n+    # Check if all arguments are matrices\n+    if not all(isinstance(arg, MatrixCommon) for arg in args):\n+        raise ValueError(\"Scalar operands are not allowed, use '*' instead\")\n     if args[0] == 1:\n         args = args[1:]\n     return new(MatMul, *args)\n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/matrices/expressions/matmul.py b/sympy/matrices/expressions/matmul.py\nindex c9124f3..9eba4b4 100644\n--- a/sympy/matrices/expressions/matmul.py\n+++ b/sympy/matrices/expressions/matmul.py\n@@ -91,6 +91,9 @@ def validate(*matrices):\n         if A.cols != B.rows:\n             raise ShapeError('Matrices %s and %s are not aligned' % (A, B))\n def newmul(*args):\n+    from sympy.matrices.common import MatrixCommon\n+    if not all((isinstance(arg, MatrixCommon) for arg in args)):\n+        raise ValueError(\"Scalar operands are not allowed, use '*' instead\")\n     if args[0] == 1:\n         args = args[1:]\n     return new(MatMul, *args)\n", "normalized_occurrence": 1}
