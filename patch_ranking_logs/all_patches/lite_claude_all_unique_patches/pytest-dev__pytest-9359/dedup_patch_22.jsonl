{"model_name_or_path": "agentless_claude", "instance_id": "pytest-dev__pytest-9359", "model_patch": "diff --git a/src/_pytest/assertion/rewrite.py b/src/_pytest/assertion/rewrite.py\nindex 9657da0..d41636e 100644\n--- a/src/_pytest/assertion/rewrite.py\n+++ b/src/_pytest/assertion/rewrite.py\n@@ -602,7 +602,7 @@ def _get_assertion_exprs(src: bytes) -> Dict[int, str]:\n                 _write_and_reset()\n             elif tp in {tokenize.NEWLINE, tokenize.ENDMARKER}:\n                 _write_and_reset()\n-            elif lines and lineno not in seen_lines:\n+            elif lines and lineno not in seen_lines and lineno <= assertion_lineno:\n                 lines.append(line)\n                 seen_lines.add(lineno)\n \n", "occurrence": 2, "normalized_patch": "diff --git a/src/_pytest/assertion/rewrite.py b/src/_pytest/assertion/rewrite.py\nindex 9f4da3b..51165e2 100644\n--- a/src/_pytest/assertion/rewrite.py\n+++ b/src/_pytest/assertion/rewrite.py\n@@ -345,7 +345,7 @@ def _get_assertion_exprs(src: bytes) -> Dict[int, str]:\n                 _write_and_reset()\n             elif tp in {tokenize.NEWLINE, tokenize.ENDMARKER}:\n                 _write_and_reset()\n-            elif lines and lineno not in seen_lines:\n+            elif lines and lineno not in seen_lines and (lineno <= assertion_lineno):\n                 lines.append(line)\n                 seen_lines.add(lineno)\n     return ret\n", "normalized_occurrence": 2}
