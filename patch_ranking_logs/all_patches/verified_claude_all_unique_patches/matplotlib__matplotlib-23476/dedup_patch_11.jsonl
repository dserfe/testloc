{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-23476", "model_patch": "diff --git a/lib/matplotlib/backends/backend_macosx.py b/lib/matplotlib/backends/backend_macosx.py\nindex 4ab352a..ea43b09 100644\n--- a/lib/matplotlib/backends/backend_macosx.py\n+++ b/lib/matplotlib/backends/backend_macosx.py\n@@ -98,6 +98,8 @@ class FigureCanvasMac(FigureCanvasAgg, _macosx.FigureCanvas, FigureCanvasBase):\n         width /= scale\n         height /= scale\n         self.figure.set_size_inches(width, height, forward=False)\n+        # Ensure DPI is correctly set based on device pixel ratio\n+        self.figure._set_dpi(self.figure._original_dpi * self.device_pixel_ratio, forward=False)\n         ResizeEvent(\"resize_event\", self)._process()\n         self.draw_idle()\n \n", "normalized_patch": "diff --git a/lib/matplotlib/backends/backend_macosx.py b/lib/matplotlib/backends/backend_macosx.py\nindex d70bd86..523ae48 100644\n--- a/lib/matplotlib/backends/backend_macosx.py\n+++ b/lib/matplotlib/backends/backend_macosx.py\n@@ -67,6 +67,7 @@ class FigureCanvasMac(FigureCanvasAgg, _macosx.FigureCanvas, FigureCanvasBase):\n         width /= scale\n         height /= scale\n         self.figure.set_size_inches(width, height, forward=False)\n+        self.figure._set_dpi(self.figure._original_dpi * self.device_pixel_ratio, forward=False)\n         ResizeEvent('resize_event', self)._process()\n         self.draw_idle()\n \n", "normalized_occurrence": 1}
