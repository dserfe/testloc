{"model_name_or_path": "agentless", "instance_id": "django__django-15098", "model_patch": "diff --git a/django/utils/translation/trans_real.py b/django/utils/translation/trans_real.py\nindex 488a2d8..a3219b9 100644\n--- a/django/utils/translation/trans_real.py\n+++ b/django/utils/translation/trans_real.py\n@@ -493,7 +493,7 @@ def get_supported_language_variant(lang_code, strict=False):\n         if not strict:\n             # if fr-fr is not supported, try fr-ca.\n             for supported_code in supported_lang_codes:\n-                if supported_code.startswith(generic_lang_code + '-'):\n+                if supported_code.startswith(generic_lang_code + '-') or supported_code.lower().startswith(generic_lang_code + '-'):\n                     return supported_code\n     raise LookupError(lang_code)\n \n@@ -512,6 +512,14 @@ def get_language_from_path(path, strict=False):\n     try:\n         return get_supported_language_variant(lang_code, strict=strict)\n     except LookupError:\n+        if not strict:\n+            # Attempt to fall back to the language code ignoring the script.\n+            lang_code_no_script = re.sub(r'-[A-Za-z]{4}', '', lang_code)\n+            if lang_code_no_script != lang_code:\n+                try:\n+                    return get_supported_language_variant(lang_code_no_script, strict=strict)\n+                except LookupError:\n+                    pass\n         return None\n \n \n", "occurrence": 1, "normalized_patch": "diff --git a/django/utils/translation/trans_real.py b/django/utils/translation/trans_real.py\nindex 05d14a5..e9477ff 100644\n--- a/django/utils/translation/trans_real.py\n+++ b/django/utils/translation/trans_real.py\n@@ -264,7 +264,7 @@ def get_supported_language_variant(lang_code, strict=False):\n                 return code\n         if not strict:\n             for supported_code in supported_lang_codes:\n-                if supported_code.startswith(generic_lang_code + '-'):\n+                if supported_code.startswith(generic_lang_code + '-') or supported_code.lower().startswith(generic_lang_code + '-'):\n                     return supported_code\n     raise LookupError(lang_code)\n def get_language_from_path(path, strict=False):\n@@ -275,6 +275,13 @@ def get_language_from_path(path, strict=False):\n     try:\n         return get_supported_language_variant(lang_code, strict=strict)\n     except LookupError:\n+        if not strict:\n+            lang_code_no_script = re.sub('-[A-Za-z]{4}', '', lang_code)\n+            if lang_code_no_script != lang_code:\n+                try:\n+                    return get_supported_language_variant(lang_code_no_script, strict=strict)\n+                except LookupError:\n+                    pass\n         return None\n def get_language_from_request(request, check_path=False):\n     if check_path:\n", "normalized_occurrence": 1}
