{"model_name_or_path": "agentless_claude", "instance_id": "django__django-11815", "model_patch": "diff --git a/django/db/migrations/writer.py b/django/db/migrations/writer.py\nindex 36f0ec3..ddb6194 100644\n--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n@@ -132,6 +132,19 @@ class MigrationWriter:\n             \"replaces_str\": \"\",\n             \"initial_str\": \"\",\n         }\n+        \n+        # Register enum serializer if not already registered\n+        try:\n+            from enum import Enum\n+            class EnumSerializer(serializer_factory.BaseSerializer):\n+                def serialize(self):\n+                    enum_class = self.value.__class__\n+                    return \"%s['%s']\" % (enum_class.__name__, self.value.name), {\n+                        \"import %s.%s\" % (enum_class.__module__, enum_class.__name__)\n+                    }\n+            self.register_serializer(Enum, EnumSerializer)\n+        except Exception:\n+            pass\n \n         imports = set()\n \n", "occurrence": 1, "normalized_patch": "diff --git a/django/db/migrations/writer.py b/django/db/migrations/writer.py\nindex acf3688..3a77a48 100644\n--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n@@ -98,6 +98,15 @@ class MigrationWriter:\n         self.needs_manual_porting = False\n     def as_string(self):\n         items = {'replaces_str': '', 'initial_str': ''}\n+        try:\n+            from enum import Enum\n+            class EnumSerializer(serializer_factory.BaseSerializer):\n+                def serialize(self):\n+                    enum_class = self.value.__class__\n+                    return (\"%s['%s']\" % (enum_class.__name__, self.value.name), {'import %s.%s' % (enum_class.__module__, enum_class.__name__)})\n+            self.register_serializer(Enum, EnumSerializer)\n+        except Exception:\n+            pass\n         imports = set()\n         operations = []\n         for operation in self.migration.operations:\n", "normalized_occurrence": 1}
