{"model_name_or_path": "agentless", "instance_id": "pydata__xarray-4248", "model_patch": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 91a7f67..f1610fc 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -283,7 +283,10 @@ def summarize_variable(\n         dims_str = \"({}) \".format(\", \".join(map(str, var.dims)))\n     else:\n         dims_str = \"\"\n-    front_str = f\"{first_col}{dims_str}{var.dtype} \"\n+    # Check for units in the variable's attributes\n+    units = var.attrs.get('units', '')\n+    units_str = f\", in {units}\" if units else ''\n+    front_str = f\"{first_col}{dims_str}{var.dtype}{units_str} \"\n \n     values_width = max_width - len(front_str)\n     values_str = inline_variable_array_repr(var, values_width)\n@@ -507,7 +510,9 @@ def dataset_repr(ds):\n     if unindexed_dims_str:\n         summary.append(unindexed_dims_str)\n \n-    summary.append(data_vars_repr(ds.data_vars, col_width=col_width))\n+    # Use the updated summarize_variable function to include units\n+    data_vars_summary = [summarize_variable(name, var, col_width) for name, var in ds.data_vars.items()]\n+    summary.append(\"\\n\".join(data_vars_summary))\n \n     if ds.attrs:\n         summary.append(attrs_repr(ds.attrs))\n", "occurrence": 1, "normalized_patch": "diff --git a/xarray/core/formatting.py b/xarray/core/formatting.py\nindex 6d31a74..68209e6 100644\n--- a/xarray/core/formatting.py\n+++ b/xarray/core/formatting.py\n@@ -163,7 +163,9 @@ def summarize_variable(name: Hashable, var, col_width: int, marker: str=' ', max\n         dims_str = '({}) '.format(', '.join(map(str, var.dims)))\n     else:\n         dims_str = ''\n-    front_str = f'{first_col}{dims_str}{var.dtype} '\n+    units = var.attrs.get('units', '')\n+    units_str = f', in {units}' if units else ''\n+    front_str = f'{first_col}{dims_str}{var.dtype}{units_str} '\n     values_width = max_width - len(front_str)\n     values_str = inline_variable_array_repr(var, values_width)\n     return front_str + values_str\n@@ -294,7 +296,8 @@ def dataset_repr(ds):\n     unindexed_dims_str = unindexed_dims_repr(ds.dims, ds.coords)\n     if unindexed_dims_str:\n         summary.append(unindexed_dims_str)\n-    summary.append(data_vars_repr(ds.data_vars, col_width=col_width))\n+    data_vars_summary = [summarize_variable(name, var, col_width) for name, var in ds.data_vars.items()]\n+    summary.append('\\n'.join(data_vars_summary))\n     if ds.attrs:\n         summary.append(attrs_repr(ds.attrs))\n     return '\\n'.join(summary)\n", "normalized_occurrence": 1}
