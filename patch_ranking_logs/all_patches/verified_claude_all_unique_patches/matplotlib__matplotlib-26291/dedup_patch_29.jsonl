{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-26291", "model_patch": "diff --git a/lib/mpl_toolkits/axes_grid1/inset_locator.py b/lib/mpl_toolkits/axes_grid1/inset_locator.py\nindex 136aaa8..f19c5a3 100644\n--- a/lib/mpl_toolkits/axes_grid1/inset_locator.py\n+++ b/lib/mpl_toolkits/axes_grid1/inset_locator.py\n@@ -284,6 +284,9 @@ def _add_inset_axes(parent_axes, axes_class, axes_kwargs, axes_locator):\n         axes_class = HostAxes\n     if axes_kwargs is None:\n         axes_kwargs = {}\n+    # Ensure figure has a renderer\n+    if parent_axes.figure._cachedRenderer is None:\n+        parent_axes.figure.canvas.draw()\n     inset_axes = axes_class(\n         parent_axes.figure, parent_axes.get_position(),\n         **{\"navigate\": False, **axes_kwargs, \"axes_locator\": axes_locator})\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/mpl_toolkits/axes_grid1/inset_locator.py b/lib/mpl_toolkits/axes_grid1/inset_locator.py\nindex 4445c94..4c1bedb 100644\n--- a/lib/mpl_toolkits/axes_grid1/inset_locator.py\n+++ b/lib/mpl_toolkits/axes_grid1/inset_locator.py\n@@ -121,6 +121,8 @@ def _add_inset_axes(parent_axes, axes_class, axes_kwargs, axes_locator):\n         axes_class = HostAxes\n     if axes_kwargs is None:\n         axes_kwargs = {}\n+    if parent_axes.figure._cachedRenderer is None:\n+        parent_axes.figure.canvas.draw()\n     inset_axes = axes_class(parent_axes.figure, parent_axes.get_position(), **{'navigate': False, **axes_kwargs, 'axes_locator': axes_locator})\n     return parent_axes.figure.add_axes(inset_axes)\n @_docstring.dedent_interpd\n", "normalized_occurrence": 2}
