{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-25479", "model_patch": "diff --git a/lib/matplotlib/image.py b/lib/matplotlib/image.py\nindex e8cc2cd..6eb167f 100644\n--- a/lib/matplotlib/image.py\n+++ b/lib/matplotlib/image.py\n@@ -257,7 +257,14 @@ class _ImageBase(martist.Artist, cm.ScalarMappable):\n                  **kwargs\n                  ):\n         martist.Artist.__init__(self)\n-        cm.ScalarMappable.__init__(self, norm, cmap)\n+        # If cmap is a string, use that directly, otherwise initialize ScalarMappable\n+        # with the current default cmap to avoid name confusion\n+        if isinstance(cmap, str):\n+            cm.ScalarMappable.__init__(self, norm, cmap)\n+        else:\n+            cm.ScalarMappable.__init__(self, norm, None)\n+            if cmap is not None:\n+                self.set_cmap(cmap)\n         if origin is None:\n             origin = mpl.rcParams['image.origin']\n         _api.check_in_list([\"upper\", \"lower\"], origin=origin)\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/image.py b/lib/matplotlib/image.py\nindex cfb0226..c4b3335 100644\n--- a/lib/matplotlib/image.py\n+++ b/lib/matplotlib/image.py\n@@ -103,7 +103,12 @@ class _ImageBase(martist.Artist, cm.ScalarMappable):\n     zorder = 0\n     def __init__(self, ax, cmap=None, norm=None, interpolation=None, origin=None, filternorm=True, filterrad=4.0, resample=False, *, interpolation_stage=None, **kwargs):\n         martist.Artist.__init__(self)\n-        cm.ScalarMappable.__init__(self, norm, cmap)\n+        if isinstance(cmap, str):\n+            cm.ScalarMappable.__init__(self, norm, cmap)\n+        else:\n+            cm.ScalarMappable.__init__(self, norm, None)\n+            if cmap is not None:\n+                self.set_cmap(cmap)\n         if origin is None:\n             origin = mpl.rcParams['image.origin']\n         _api.check_in_list(['upper', 'lower'], origin=origin)\n", "normalized_occurrence": 1}
