{"model_name_or_path": "agentless", "instance_id": "django__django-11265", "model_patch": "diff --git a/django/db/models/sql/query.py b/django/db/models/sql/query.py\nindex 1309ca5..a6b0816 100644\n--- a/django/db/models/sql/query.py\n+++ b/django/db/models/sql/query.py\n@@ -1299,7 +1299,13 @@ class Query(BaseExpression):\n                 lookup_class = targets[0].get_lookup('isnull')\n                 col = _get_col(targets[0], join_info.targets[0], alias, simple_col)\n                 clause.add(lookup_class(col, False), AND)\n-        return clause, used_joins if not require_outer else ()\n+        if require_outer:\n+            new_query = self.clone()\n+            new_query.add_q(Q(**{filter_expr[0]: filter_expr[1]}))\n+            new_query.add_q(~Q(**{filter_expr[0]: filter_expr[1]}))\n+            return new_query\n+        else:\n+            return clause, used_joins\n \n     def add_filter(self, filter_clause):\n         self.add_q(Q(**{filter_clause[0]: filter_clause[1]}))\n", "occurrence": 1, "normalized_patch": "diff --git a/django/db/models/sql/query.py b/django/db/models/sql/query.py\nindex 60a9579..fcd70dc 100644\n--- a/django/db/models/sql/query.py\n+++ b/django/db/models/sql/query.py\n@@ -696,7 +696,13 @@ class Query(BaseExpression):\n                 lookup_class = targets[0].get_lookup('isnull')\n                 col = _get_col(targets[0], join_info.targets[0], alias, simple_col)\n                 clause.add(lookup_class(col, False), AND)\n-        return (clause, used_joins if not require_outer else ())\n+        if require_outer:\n+            new_query = self.clone()\n+            new_query.add_q(Q(**{filter_expr[0]: filter_expr[1]}))\n+            new_query.add_q(~Q(**{filter_expr[0]: filter_expr[1]}))\n+            return new_query\n+        else:\n+            return (clause, used_joins)\n     def add_filter(self, filter_clause):\n         self.add_q(Q(**{filter_clause[0]: filter_clause[1]}))\n     def add_q(self, q_object):\n", "normalized_occurrence": 1}
