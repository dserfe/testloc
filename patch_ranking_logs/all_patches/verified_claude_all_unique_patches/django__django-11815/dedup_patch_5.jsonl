{"model_name_or_path": "agentless_claude", "instance_id": "django__django-11815", "model_patch": "diff --git a/django/db/migrations/writer.py b/django/db/migrations/writer.py\nindex 36f0ec3..6304ab9 100644\n--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n@@ -115,6 +115,22 @@ class OperationWriter:\n         return '\\n'.join(self.buff)\n \n \n+class EnumSerializer(BaseSerializer):\n+    \"\"\"\n+    Serializer for Enum objects - serializes to enum member name rather than value.\n+    \"\"\"\n+    def __init__(self, value):\n+        self.value = value\n+\n+    def serialize(self):\n+        enum_class = self.value.__class__\n+        enum_name = self.value.name\n+        imports = {\n+            \"import %s\" % enum_class.__module__,\n+        }\n+        return \"%s['%s']\" % (enum_class.__name__, enum_name), imports\n+\n+\n class MigrationWriter:\n     \"\"\"\n     Take a Migration instance and is able to produce the contents\n@@ -278,6 +294,10 @@ class MigrationWriter:\n     def unregister_serializer(cls, type_):\n         Serializer.unregister(type_)\n \n+    def __init__(self):\n+        # Register the Enum serializer\n+        self.register_serializer(enum.Enum, EnumSerializer)\n+\n \n MIGRATION_HEADER_TEMPLATE = \"\"\"\\\n # Generated by Django %(version)s on %(timestamp)s\n", "occurrence": 1, "normalized_patch": "diff --git a/django/db/migrations/writer.py b/django/db/migrations/writer.py\nindex acf3688..add130c 100644\n--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n@@ -91,6 +91,14 @@ class OperationWriter:\n         self.buff.append(' ' * (self.indentation * 4) + line)\n     def render(self):\n         return '\\n'.join(self.buff)\n+class EnumSerializer(BaseSerializer):\n+    def __init__(self, value):\n+        self.value = value\n+    def serialize(self):\n+        enum_class = self.value.__class__\n+        enum_name = self.value.name\n+        imports = {'import %s' % enum_class.__module__}\n+        return (\"%s['%s']\" % (enum_class.__name__, enum_name), imports)\n class MigrationWriter:\n     def __init__(self, migration, include_header=True):\n         self.migration = migration\n@@ -193,5 +201,7 @@ class MigrationWriter:\n     @classmethod\n     def unregister_serializer(cls, type_):\n         Serializer.unregister(type_)\n+    def __init__(self):\n+        self.register_serializer(enum.Enum, EnumSerializer)\n MIGRATION_HEADER_TEMPLATE = '# Generated by Django %(version)s on %(timestamp)s\\n\\n'\n MIGRATION_TEMPLATE = '%(migration_header)s%(imports)s\\n\\nclass Migration(migrations.Migration):\\n%(replaces_str)s%(initial_str)s\\n    dependencies = [\\n%(dependencies)s    ]\\n\\n    operations = [\\n%(operations)s    ]\\n'\n\\ No newline at end of file\n", "normalized_occurrence": 1}
