{"model_name_or_path": "agentless", "instance_id": "django__django-15098", "model_patch": "diff --git a/django/utils/translation/trans_real.py b/django/utils/translation/trans_real.py\nindex 488a2d8..86c6f97 100644\n--- a/django/utils/translation/trans_real.py\n+++ b/django/utils/translation/trans_real.py\n@@ -495,10 +495,16 @@ def get_supported_language_variant(lang_code, strict=False):\n             for supported_code in supported_lang_codes:\n                 if supported_code.startswith(generic_lang_code + '-'):\n                     return supported_code\n+                # Check for script and region subtags\n+                if '-' in lang_code:\n+                    # Split the lang_code and check for full match\n+                    main_part = lang_code.split('-')[0]\n+                    if supported_code.startswith(main_part + '-'):\n+                        return supported_code\n     raise LookupError(lang_code)\n \n \n-def get_language_from_path(path, strict=False):\n+def get_language_from_path(path, strict=True):\n     \"\"\"\n     Return the language code if there's a valid language code found in `path`.\n \n@@ -515,7 +521,7 @@ def get_language_from_path(path, strict=False):\n         return None\n \n \n-def get_language_from_request(request, check_path=False):\n+def get_language_from_request(request, check_path=True):\n     \"\"\"\n     Analyze the request to find what language the user wants the system to\n     show. Only languages listed in settings.LANGUAGES are taken into account.\n", "occurrence": 1, "normalized_patch": "diff --git a/django/utils/translation/trans_real.py b/django/utils/translation/trans_real.py\nindex 05d14a5..75f0ed0 100644\n--- a/django/utils/translation/trans_real.py\n+++ b/django/utils/translation/trans_real.py\n@@ -266,8 +266,12 @@ def get_supported_language_variant(lang_code, strict=False):\n             for supported_code in supported_lang_codes:\n                 if supported_code.startswith(generic_lang_code + '-'):\n                     return supported_code\n+                if '-' in lang_code:\n+                    main_part = lang_code.split('-')[0]\n+                    if supported_code.startswith(main_part + '-'):\n+                        return supported_code\n     raise LookupError(lang_code)\n-def get_language_from_path(path, strict=False):\n+def get_language_from_path(path, strict=True):\n     regex_match = language_code_prefix_re.match(path)\n     if not regex_match:\n         return None\n@@ -276,7 +280,7 @@ def get_language_from_path(path, strict=False):\n         return get_supported_language_variant(lang_code, strict=strict)\n     except LookupError:\n         return None\n-def get_language_from_request(request, check_path=False):\n+def get_language_from_request(request, check_path=True):\n     if check_path:\n         lang_code = get_language_from_path(request.path_info)\n         if lang_code is not None:\n", "normalized_occurrence": 1}
