{"model_name_or_path": "agentless", "instance_id": "matplotlib__matplotlib-25479", "model_patch": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 3c5d091..668d0cb 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -2280,7 +2280,7 @@ def set_cmap(cmap: Colormap | str) -> None:\n     \"\"\"\n     cmap = get_cmap(cmap)\n \n-    rc('image', cmap=cmap.name)\n+    rc('image', cmap=cmap.name if isinstance(cmap, colors.Colormap) else cmap)\n     im = gci()\n \n     if im is not None:\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/pyplot.py b/lib/matplotlib/pyplot.py\nindex 1eb21f9..7f7bceb 100644\n--- a/lib/matplotlib/pyplot.py\n+++ b/lib/matplotlib/pyplot.py\n@@ -542,7 +542,7 @@ def get_cmap(name: Colormap | str | None=None, lut: int | None=None) -> Colormap\n get_cmap.__doc__ = cm._get_cmap.__doc__\n def set_cmap(cmap: Colormap | str) -> None:\n     cmap = get_cmap(cmap)\n-    rc('image', cmap=cmap.name)\n+    rc('image', cmap=cmap.name if isinstance(cmap, colors.Colormap) else cmap)\n     im = gci()\n     if im is not None:\n         im.set_cmap(cmap)\n", "normalized_occurrence": 1}
