{"model_name_or_path": "agentless_claude", "instance_id": "django__django-11815", "model_patch": "diff --git a/django/db/migrations/writer.py b/django/db/migrations/writer.py\nindex 36f0ec3..65ced2c 100644\n--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n@@ -278,6 +278,20 @@ class MigrationWriter:\n     def unregister_serializer(cls, type_):\n         Serializer.unregister(type_)\n \n+    @staticmethod\n+    def _serialize_enum(enum_obj):\n+        \"\"\"\n+        Special serialization for Enum objects to use name instead of value.\n+        Returns a string representing how to instantiate the enum using its name.\n+        \"\"\"\n+        module = enum_obj.__class__.__module__\n+        class_name = enum_obj.__class__.__name__\n+        enum_name = enum_obj.name\n+        return \"%s.%s['%s']\" % (module, class_name, enum_name)\n+\n+# Register the Enum serializer\n+MigrationWriter.register_serializer(Enum, MigrationWriter._serialize_enum)\n+\n \n MIGRATION_HEADER_TEMPLATE = \"\"\"\\\n # Generated by Django %(version)s on %(timestamp)s\n", "occurrence": 1, "normalized_patch": "--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n+    @staticmethod\n+    def _serialize_enum(enum_obj):\n+        module = enum_obj.__class__.__module__\n+        class_name = enum_obj.__class__.__name__\n+        enum_name = enum_obj.name\n+        return \"%s.%s['%s']\" % (module, class_name, enum_name)\n+MigrationWriter.register_serializer(Enum, MigrationWriter._serialize_enum)", "normalized_occurrence": 1}
