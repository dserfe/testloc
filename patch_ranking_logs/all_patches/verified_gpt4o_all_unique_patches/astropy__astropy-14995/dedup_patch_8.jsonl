{"model_name_or_path": "agentless", "instance_id": "astropy__astropy-14995", "model_patch": "diff --git a/astropy/nddata/nddata.py b/astropy/nddata/nddata.py\nindex 8cbdc69..ca1ae6c 100644\n--- a/astropy/nddata/nddata.py\n+++ b/astropy/nddata/nddata.py\n@@ -167,7 +167,7 @@ class NDData(NDDataBase):\n             elif data.uncertainty is not None:\n                 uncertainty = data.uncertainty\n \n-            if mask is not None and data.mask is not None:\n+            if mask is not None:\n                 log.info(\"overwriting NDData's current mask with specified mask.\")\n             elif data.mask is not None:\n                 mask = data.mask\n@@ -193,7 +193,7 @@ class NDData(NDDataBase):\n         # if the data is wrapped by astropy.utils.masked.Masked:\n         if isinstance(data, Masked):\n             # first get the mask if one is available:\n-            if hasattr(data, \"mask\"):\n+            if hasattr(data, \"mask\") and data.mask is not None:\n                 if mask is not None:\n                     log.info(\n                         \"overwriting Masked Quantity's current mask with specified mask.\"\n@@ -402,4 +402,4 @@ class NDData(NDDataBase):\n                 # to be saved as weakref but that's done by NDUncertainty\n                 # setter).\n                 value.parent_nddata = self\n-        self._uncertainty = value\n+        self._uncertainty = value\n", "occurrence": 1, "normalized_patch": "diff --git a/astropy/nddata/nddata.py b/astropy/nddata/nddata.py\nindex 75e2ca7..46d6c04 100644\n--- a/astropy/nddata/nddata.py\n+++ b/astropy/nddata/nddata.py\n@@ -23,7 +23,7 @@ class NDData(NDDataBase):\n                 log.info(\"overwriting NDData's current uncertainty with specified uncertainty.\")\n             elif data.uncertainty is not None:\n                 uncertainty = data.uncertainty\n-            if mask is not None and data.mask is not None:\n+            if mask is not None:\n                 log.info(\"overwriting NDData's current mask with specified mask.\")\n             elif data.mask is not None:\n                 mask = data.mask\n@@ -41,7 +41,7 @@ class NDData(NDDataBase):\n                 meta = data.meta\n             data = data.data\n         if isinstance(data, Masked):\n-            if hasattr(data, 'mask'):\n+            if hasattr(data, 'mask') and data.mask is not None:\n                 if mask is not None:\n                     log.info(\"overwriting Masked Quantity's current mask with specified mask.\")\n                 else:\n", "normalized_occurrence": 1}
