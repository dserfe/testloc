{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-23987", "model_patch": "diff --git a/lib/matplotlib/layout_engine.py b/lib/matplotlib/layout_engine.py\nindex 2a777f2..52174a5 100644\n--- a/lib/matplotlib/layout_engine.py\n+++ b/lib/matplotlib/layout_engine.py\n@@ -118,9 +118,13 @@ class PlaceHolderLayoutEngine(LayoutEngine):\n     def __init__(self, adjust_compatible, colorbar_gridspec, **kwargs):\n         self._adjust_compatible = adjust_compatible\n         self._colorbar_gridspec = colorbar_gridspec\n+        self._enabled = kwargs.pop('enabled', True)\n         super().__init__(**kwargs)\n \n     def execute(self, fig):\n+        # If explicitly disabled (constrained_layout=False), remove self as layout engine\n+        if not self._enabled and isinstance(self, ConstrainedLayoutEngine):\n+            fig.set_layout_engine(None)\n         return\n \n \n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/layout_engine.py b/lib/matplotlib/layout_engine.py\nindex 2879487..e45e50d 100644\n--- a/lib/matplotlib/layout_engine.py\n+++ b/lib/matplotlib/layout_engine.py\n@@ -29,8 +29,11 @@ class PlaceHolderLayoutEngine(LayoutEngine):\n     def __init__(self, adjust_compatible, colorbar_gridspec, **kwargs):\n         self._adjust_compatible = adjust_compatible\n         self._colorbar_gridspec = colorbar_gridspec\n+        self._enabled = kwargs.pop('enabled', True)\n         super().__init__(**kwargs)\n     def execute(self, fig):\n+        if not self._enabled and isinstance(self, ConstrainedLayoutEngine):\n+            fig.set_layout_engine(None)\n         return\n class TightLayoutEngine(LayoutEngine):\n     _adjust_compatible = True\n", "normalized_occurrence": 1}
