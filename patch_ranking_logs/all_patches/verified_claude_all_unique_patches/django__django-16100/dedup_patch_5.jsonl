{"model_name_or_path": "agentless_claude", "instance_id": "django__django-16100", "model_patch": "diff --git a/django/contrib/admin/options.py b/django/contrib/admin/options.py\nindex 32995ac..8de8746 100644\n--- a/django/contrib/admin/options.py\n+++ b/django/contrib/admin/options.py\n@@ -1911,11 +1911,13 @@ class ModelAdmin(BaseModelAdmin):\n         return queryset.filter(pk__in=object_pks)\n \n     @csrf_protect_m\n+    @transaction.atomic\n     def changelist_view(self, request, extra_context=None):\n         \"\"\"\n         The 'change list' admin view for this model.\n         \"\"\"\n         from django.contrib.admin.views.main import ERROR_FLAG\n+        from django.db import transaction\n \n         app_label = self.opts.app_label\n         if not self.has_view_or_change_permission(request):\n", "occurrence": 1, "normalized_patch": "diff --git a/django/contrib/admin/options.py b/django/contrib/admin/options.py\nindex 6c1421c..e0f63f3 100644\n--- a/django/contrib/admin/options.py\n+++ b/django/contrib/admin/options.py\n@@ -813,8 +813,10 @@ class ModelAdmin(BaseModelAdmin):\n             return queryset\n         return queryset.filter(pk__in=object_pks)\n     @csrf_protect_m\n+    @transaction.atomic\n     def changelist_view(self, request, extra_context=None):\n         from django.contrib.admin.views.main import ERROR_FLAG\n+        from django.db import transaction\n         app_label = self.opts.app_label\n         if not self.has_view_or_change_permission(request):\n             raise PermissionDenied\n", "normalized_occurrence": 1}
