{"model_name_or_path": "agentless", "instance_id": "pydata__xarray-6599", "model_patch": "diff --git a/xarray/core/duck_array_ops.py b/xarray/core/duck_array_ops.py\nindex 3ef7ed0..178811c 100644\n--- a/xarray/core/duck_array_ops.py\n+++ b/xarray/core/duck_array_ops.py\n@@ -470,6 +470,8 @@ def timedelta_to_numeric(value, datetime_unit=\"ns\", dtype=float):\n         out = py_timedelta_to_float(value, datetime_unit)\n     elif isinstance(value, np.timedelta64):\n         out = np_timedelta64_to_float(value, datetime_unit)\n+        if isinstance(out, np.ndarray):\n+            out = out.astype(dtype)\n     elif isinstance(value, pd.Timedelta):\n         out = pd_timedelta_to_float(value, datetime_unit)\n     elif isinstance(value, str):\n", "occurrence": 1, "normalized_patch": "diff --git a/xarray/core/duck_array_ops.py b/xarray/core/duck_array_ops.py\nindex 003b4fa..b548c19 100644\n--- a/xarray/core/duck_array_ops.py\n+++ b/xarray/core/duck_array_ops.py\n@@ -246,6 +246,8 @@ def timedelta_to_numeric(value, datetime_unit='ns', dtype=float):\n         out = py_timedelta_to_float(value, datetime_unit)\n     elif isinstance(value, np.timedelta64):\n         out = np_timedelta64_to_float(value, datetime_unit)\n+        if isinstance(out, np.ndarray):\n+            out = out.astype(dtype)\n     elif isinstance(value, pd.Timedelta):\n         out = pd_timedelta_to_float(value, datetime_unit)\n     elif isinstance(value, str):\n", "normalized_occurrence": 1}
