{"model_name_or_path": "agentless_claude", "instance_id": "matplotlib__matplotlib-25079", "model_patch": "diff --git a/lib/matplotlib/cm.py b/lib/matplotlib/cm.py\nindex 06f543d..dd4504f 100644\n--- a/lib/matplotlib/cm.py\n+++ b/lib/matplotlib/cm.py\n@@ -614,6 +614,9 @@ class ScalarMappable:\n         if not in_init:\n             self.norm.callbacks.disconnect(self._id_norm)\n         self._norm = norm\n+        # When setting a new norm, ensure the scale is set before triggering changed\n+        if self._A is not None:\n+            self.norm.autoscale_None(self._A)\n         self._id_norm = self.norm.callbacks.connect('changed',\n                                                     self.changed)\n         if not in_init:\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/cm.py b/lib/matplotlib/cm.py\nindex f5a7578..34e1712 100644\n--- a/lib/matplotlib/cm.py\n+++ b/lib/matplotlib/cm.py\n@@ -191,6 +191,8 @@ class ScalarMappable:\n         if not in_init:\n             self.norm.callbacks.disconnect(self._id_norm)\n         self._norm = norm\n+        if self._A is not None:\n+            self.norm.autoscale_None(self._A)\n         self._id_norm = self.norm.callbacks.connect('changed', self.changed)\n         if not in_init:\n             self.changed()\n", "normalized_occurrence": 1}
