{"model_name_or_path": "agentless", "instance_id": "astropy__astropy-14995", "model_patch": "diff --git a/astropy/nddata/nddata_withmixins.py b/astropy/nddata/nddata_withmixins.py\nindex 496df38..18c884f 100644\n--- a/astropy/nddata/nddata_withmixins.py\n+++ b/astropy/nddata/nddata_withmixins.py\n@@ -69,4 +69,18 @@ class NDDataRef(NDArithmeticMixin, NDIOMixin, NDSlicingMixin, NDData):\n     are sliced.\n     \"\"\"\n \n-    pass\n+    def _propagate_mask(self, other, handle_mask):\n+        # Handle the case where one operand does not have a mask\n+        if self.mask is None and other.mask is not None:\n+            return other.mask\n+        elif self.mask is not None and other.mask is None:\n+            return self.mask\n+        elif self.mask is None and other.mask is None:\n+            return None\n+        else:\n+            return handle_mask(self.mask, other.mask)\n+\n+    def multiply(self, other, handle_mask=np.bitwise_or):\n+        result = super().multiply(other, handle_mask=handle_mask)\n+        result._mask = self._propagate_mask(other, handle_mask)\n+        return result\n", "occurrence": 1, "normalized_patch": "--- a/astropy/nddata/nddata_withmixins.py\n+++ b/astropy/nddata/nddata_withmixins.py\n-    pass\n+    def _propagate_mask(self, other, handle_mask):\n+        if self.mask is None and other.mask is not None:\n+            return other.mask\n+        elif self.mask is not None and other.mask is None:\n+            return self.mask\n+        elif self.mask is None and other.mask is None:\n+            return None\n+        else:\n+            return handle_mask(self.mask, other.mask)\n+    def multiply(self, other, handle_mask=np.bitwise_or):\n+        result = super().multiply(other, handle_mask=handle_mask)\n+        result._mask = self._propagate_mask(other, handle_mask)\n+        return result", "normalized_occurrence": 1}
