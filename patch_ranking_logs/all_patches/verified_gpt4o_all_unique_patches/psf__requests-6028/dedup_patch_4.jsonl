{"model_name_or_path": "agentless", "instance_id": "psf__requests-6028", "model_patch": "diff --git a/requests/adapters.py b/requests/adapters.py\nindex d47134b..5006c9d 100644\n--- a/requests/adapters.py\n+++ b/requests/adapters.py\n@@ -383,13 +383,12 @@ class HTTPAdapter(BaseAdapter):\n         :param proxy: The url of the proxy being used for this request.\n         :rtype: dict\n         \"\"\"\n-        headers = {}\n-        username, password = get_auth_from_url(proxy)\n-\n-        if username:\n-            headers['Proxy-Authorization'] = _basic_auth_str(username,\n-                                                             password)\n+        headers = CaseInsensitiveDict()\n+        if proxy:\n+            username, password = get_auth_from_url(proxy)\n \n+            if username and password:\n+                headers['Proxy-Authorization'] = _basic_auth_str(username, password)\n         return headers\n \n     def send(self, request, stream=False, timeout=None, verify=True, cert=None, proxies=None):\n@@ -535,4 +534,4 @@ class HTTPAdapter(BaseAdapter):\n             else:\n                 raise\n \n-        return self.build_response(request, resp)\n+        return self.build_response(request, resp)\n", "occurrence": 1, "normalized_patch": "diff --git a/requests/adapters.py b/requests/adapters.py\nindex 8bf110e..ce3c161 100644\n--- a/requests/adapters.py\n+++ b/requests/adapters.py\n@@ -154,10 +154,11 @@ class HTTPAdapter(BaseAdapter):\n     def add_headers(self, request, **kwargs):\n         pass\n     def proxy_headers(self, proxy):\n-        headers = {}\n-        username, password = get_auth_from_url(proxy)\n-        if username:\n-            headers['Proxy-Authorization'] = _basic_auth_str(username, password)\n+        headers = CaseInsensitiveDict()\n+        if proxy:\n+            username, password = get_auth_from_url(proxy)\n+            if username and password:\n+                headers['Proxy-Authorization'] = _basic_auth_str(username, password)\n         return headers\n     def send(self, request, stream=False, timeout=None, verify=True, cert=None, proxies=None):\n         try:\n", "normalized_occurrence": 1}
