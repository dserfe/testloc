{"model_name_or_path": "agentless", "instance_id": "scikit-learn__scikit-learn-14496", "model_patch": "diff --git a/sklearn/cluster/optics_.py b/sklearn/cluster/optics_.py\nindex 29ab900..7d58635 100644\n--- a/sklearn/cluster/optics_.py\n+++ b/sklearn/cluster/optics_.py\n@@ -437,7 +437,7 @@ if metric=’precomputed’.\n     n_samples = X.shape[0]\n     _validate_size(min_samples, n_samples, 'min_samples')\n     if min_samples <= 1:\n-        min_samples = max(2, min_samples * n_samples)\n+        min_samples = int(round(max(2, min_samples * n_samples)))        # round to get the closest integer\n \n     # Start all points as 'unprocessed' ##\n     reachability_ = np.empty(n_samples)\n", "occurrence": 1, "normalized_patch": "diff --git a/sklearn/cluster/optics_.py b/sklearn/cluster/optics_.py\nindex 9a6dea7..b418817 100644\n--- a/sklearn/cluster/optics_.py\n+++ b/sklearn/cluster/optics_.py\n@@ -56,7 +56,7 @@ def compute_optics_graph(X, min_samples, max_eps, metric, p, metric_params, algo\n     n_samples = X.shape[0]\n     _validate_size(min_samples, n_samples, 'min_samples')\n     if min_samples <= 1:\n-        min_samples = max(2, min_samples * n_samples)\n+        min_samples = int(round(max(2, min_samples * n_samples)))\n     reachability_ = np.empty(n_samples)\n     reachability_.fill(np.inf)\n     predecessor_ = np.empty(n_samples, dtype=int)\n", "normalized_occurrence": 40}
