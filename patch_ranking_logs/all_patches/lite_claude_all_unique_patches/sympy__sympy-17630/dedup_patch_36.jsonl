{"model_name_or_path": "agentless_claude", "instance_id": "sympy__sympy-17630", "model_patch": "diff --git a/sympy/matrices/expressions/matmul.py b/sympy/matrices/expressions/matmul.py\nindex bc38a10..cf40ea9 100644\n--- a/sympy/matrices/expressions/matmul.py\n+++ b/sympy/matrices/expressions/matmul.py\n@@ -217,9 +217,12 @@ def newmul(*args):\n     return new(MatMul, *args)\n \n def any_zeros(mul):\n-    if any([arg.is_zero or (arg.is_Matrix and arg.is_ZeroMatrix)\n-                       for arg in mul.args]):\n+    if any([(arg.is_Matrix and arg.is_ZeroMatrix) or\n+            (not arg.is_Matrix and arg.is_zero)\n+            for arg in mul.args]):\n         matrices = [arg for arg in mul.args if arg.is_Matrix]\n+        if not matrices:\n+            return mul\n         return ZeroMatrix(matrices[0].rows, matrices[-1].cols)\n     return mul\n \n", "occurrence": 1, "normalized_patch": "diff --git a/sympy/matrices/expressions/matmul.py b/sympy/matrices/expressions/matmul.py\nindex e0bcc69..fe137dc 100644\n--- a/sympy/matrices/expressions/matmul.py\n+++ b/sympy/matrices/expressions/matmul.py\n@@ -131,8 +131,10 @@ def newmul(*args):\n         args = args[1:]\n     return new(MatMul, *args)\n def any_zeros(mul):\n-    if any([arg.is_zero or (arg.is_Matrix and arg.is_ZeroMatrix) for arg in mul.args]):\n+    if any([arg.is_Matrix and arg.is_ZeroMatrix or (not arg.is_Matrix and arg.is_zero) for arg in mul.args]):\n         matrices = [arg for arg in mul.args if arg.is_Matrix]\n+        if not matrices:\n+            return mul\n         return ZeroMatrix(matrices[0].rows, matrices[-1].cols)\n     return mul\n def merge_explicit(matmul):\n", "normalized_occurrence": 1}
