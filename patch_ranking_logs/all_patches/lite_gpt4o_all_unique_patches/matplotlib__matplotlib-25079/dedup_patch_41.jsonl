{"model_name_or_path": "agentless", "instance_id": "matplotlib__matplotlib-25079", "model_patch": "diff --git a/lib/matplotlib/cm.py b/lib/matplotlib/cm.py\nindex 06f543d..f9fd708 100644\n--- a/lib/matplotlib/cm.py\n+++ b/lib/matplotlib/cm.py\n@@ -605,11 +605,10 @@ class ScalarMappable:\n                 ) from None\n             norm = _auto_norm_from_scale(scale_cls)()\n \n-        if norm is self.norm:\n+        in_init = self._norm is None\n+        if norm is self._norm:\n             # We aren't updating anything\n             return\n-\n-        in_init = self.norm is None\n         # Remove the current callback and connect to the new one\n         if not in_init:\n             self.norm.callbacks.disconnect(self._id_norm)\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/cm.py b/lib/matplotlib/cm.py\nindex f5a7578..2431fa4 100644\n--- a/lib/matplotlib/cm.py\n+++ b/lib/matplotlib/cm.py\n@@ -185,9 +185,9 @@ class ScalarMappable:\n             except KeyError:\n                 raise ValueError(f\"Invalid norm str name; the following values are supported: {', '.join(scale._scale_mapping)}\") from None\n             norm = _auto_norm_from_scale(scale_cls)()\n-        if norm is self.norm:\n+        in_init = self._norm is None\n+        if norm is self._norm:\n             return\n-        in_init = self.norm is None\n         if not in_init:\n             self.norm.callbacks.disconnect(self._id_norm)\n         self._norm = norm\n", "normalized_occurrence": 1}
