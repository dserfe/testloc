{"model_name_or_path": "agentless", "instance_id": "sphinx-doc__sphinx-9658", "model_patch": "diff --git a/sphinx/ext/autodoc/__init__.py b/sphinx/ext/autodoc/__init__.py\nindex 0b364bc..8aeb9fe 100644\n--- a/sphinx/ext/autodoc/__init__.py\n+++ b/sphinx/ext/autodoc/__init__.py\n@@ -1664,7 +1664,12 @@ class ClassDocumenter(DocstringSignatureMixin, ModuleLevelDocumenter):  # type:\n             self.env.events.emit('autodoc-process-bases',\n                                  self.fullname, self.object, self.options, bases)\n \n-            base_classes = [restify(cls) for cls in bases]\n+            base_classes = []\n+            for cls in bases:\n+                if hasattr(cls, '__display_name__'):\n+                    base_classes.append(cls.__display_name__)\n+                else:\n+                    base_classes.append(restify(cls))\n             sourcename = self.get_sourcename()\n             self.add_line('', sourcename)\n             self.add_line('   ' + _('Bases: %s') % ', '.join(base_classes), sourcename)\n", "occurrence": 1, "normalized_patch": "diff --git a/sphinx/ext/autodoc/__init__.py b/sphinx/ext/autodoc/__init__.py\nindex ff8cfd1..82f6e54 100644\n--- a/sphinx/ext/autodoc/__init__.py\n+++ b/sphinx/ext/autodoc/__init__.py\n@@ -944,7 +944,12 @@ class ClassDocumenter(DocstringSignatureMixin, ModuleLevelDocumenter):\n             else:\n                 bases = []\n             self.env.events.emit('autodoc-process-bases', self.fullname, self.object, self.options, bases)\n-            base_classes = [restify(cls) for cls in bases]\n+            base_classes = []\n+            for cls in bases:\n+                if hasattr(cls, '__display_name__'):\n+                    base_classes.append(cls.__display_name__)\n+                else:\n+                    base_classes.append(restify(cls))\n             sourcename = self.get_sourcename()\n             self.add_line('', sourcename)\n             self.add_line('   ' + _('Bases: %s') % ', '.join(base_classes), sourcename)\n", "normalized_occurrence": 1}
