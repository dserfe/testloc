{"model_name_or_path": "agentless", "instance_id": "matplotlib__matplotlib-20676", "model_patch": "diff --git a/lib/matplotlib/widgets.py b/lib/matplotlib/widgets.py\nindex a6bed3c..7de8f09 100644\n--- a/lib/matplotlib/widgets.py\n+++ b/lib/matplotlib/widgets.py\n@@ -2172,6 +2172,8 @@ class SpanSelector(_SelectorWidget):\n         if self._active_handle is None or not self._interactive:\n             # Clear previous rectangle before drawing new rectangle.\n             self.update()\n+        else:\n+            self.ax.set_autoscale_on(False)\n \n         v = event.xdata if self.direction == 'horizontal' else event.ydata\n         # self._pressv and self._prev are deprecated but we still need to\n@@ -2220,6 +2222,9 @@ class SpanSelector(_SelectorWidget):\n         \"\"\"Button release event handler.\"\"\"\n         if not self._interactive:\n             self._rect.set_visible(False)\n+        else:\n+            self.ax.set_autoscale_on(True)\n+            self._rect.set_visible(False)\n \n         vmin, vmax = self.extents\n         span = vmax - vmin\n", "occurrence": 1, "normalized_patch": "diff --git a/lib/matplotlib/widgets.py b/lib/matplotlib/widgets.py\nindex b2dd641..73d183a 100644\n--- a/lib/matplotlib/widgets.py\n+++ b/lib/matplotlib/widgets.py\n@@ -1779,6 +1779,8 @@ class SpanSelector(_SelectorWidget):\n             self._active_handle = None\n         if self._active_handle is None or not self._interactive:\n             self.update()\n+        else:\n+            self.ax.set_autoscale_on(False)\n         v = event.xdata if self.direction == 'horizontal' else event.ydata\n         self._pressv = v\n         self._prev = self._get_data(event)\n@@ -1816,6 +1818,9 @@ class SpanSelector(_SelectorWidget):\n         \"\"\"Button release event handler.\"\"\"\n         if not self._interactive:\n             self._rect.set_visible(False)\n+        else:\n+            self.ax.set_autoscale_on(True)\n+            self._rect.set_visible(False)\n         vmin, vmax = self.extents\n         span = vmax - vmin\n         if span <= self.minspan:\n", "normalized_occurrence": 1}
