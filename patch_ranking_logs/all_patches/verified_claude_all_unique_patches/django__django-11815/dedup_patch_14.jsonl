{"model_name_or_path": "agentless_claude", "instance_id": "django__django-11815", "model_patch": "diff --git a/django/db/migrations/writer.py b/django/db/migrations/writer.py\nindex 36f0ec3..c89998f 100644\n--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n@@ -279,6 +279,30 @@ class MigrationWriter:\n         Serializer.unregister(type_)\n \n \n+class EnumSerializer(BaseSerializer):\n+    \"\"\"\n+    Serializes Enum objects using their name rather than value to maintain\n+    compatibility with translations.\n+    \"\"\"\n+    def serialize(self):\n+        if not isinstance(self.value, enum.Enum):\n+            raise ValueError(\"Value must be an Enum instance\")\n+        \n+        imports = {\"import enum\"}\n+        enum_class = self.value.__class__\n+        enum_module = enum_class.__module__\n+        enum_name = enum_class.__name__\n+        \n+        if enum_module != \"builtins\":\n+            imports.add(f\"from {enum_module} import {enum_name}\")\n+        \n+        return f\"{enum_name}['{self.value.name}']\", imports\n+\n+\n+# Register EnumSerializer for enum.Enum type\n+MigrationWriter.register_serializer(enum.Enum, EnumSerializer)\n+\n+\n MIGRATION_HEADER_TEMPLATE = \"\"\"\\\n # Generated by Django %(version)s on %(timestamp)s\n \n", "occurrence": 1, "normalized_patch": "--- a/django/db/migrations/writer.py\n+++ b/django/db/migrations/writer.py\n+class EnumSerializer(BaseSerializer):\n+    def serialize(self):\n+        if not isinstance(self.value, enum.Enum):\n+            raise ValueError('Value must be an Enum instance')\n+        imports = {'import enum'}\n+        enum_class = self.value.__class__\n+        enum_module = enum_class.__module__\n+        enum_name = enum_class.__name__\n+        if enum_module != 'builtins':\n+            imports.add(f'from {enum_module} import {enum_name}')\n+        return (f\"{enum_name}['{self.value.name}']\", imports)\n+MigrationWriter.register_serializer(enum.Enum, EnumSerializer)", "normalized_occurrence": 1}
