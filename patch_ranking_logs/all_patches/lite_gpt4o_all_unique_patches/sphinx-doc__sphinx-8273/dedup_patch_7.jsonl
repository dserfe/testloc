{"model_name_or_path": "agentless", "instance_id": "sphinx-doc__sphinx-8273", "model_patch": "diff --git a/sphinx/builders/manpage.py b/sphinx/builders/manpage.py\nindex cf59c0a..1ad8677 100644\n--- a/sphinx/builders/manpage.py\n+++ b/sphinx/builders/manpage.py\n@@ -82,7 +82,10 @@ class ManualPageBuilder(Builder):\n \n             targetname = '%s.%s' % (name, section)\n             logger.info(darkgreen(targetname) + ' { ', nonl=True)\n+            section_dir = path.join(self.outdir, f\"man{section}\")\n+            ensuredir(section_dir)\n             destination = FileOutput(\n+                destination_path=path.join(section_dir, targetname),\n                 destination_path=path.join(self.outdir, targetname),\n                 encoding='utf-8')\n \n@@ -103,6 +106,9 @@ class ManualPageBuilder(Builder):\n         pass\n \n \n+from sphinx.util.osutil import ensuredir\n+...\n+\n def default_man_pages(config: Config) -> List[Tuple[str, str, str, List[str], int]]:\n     \"\"\" Better default man_pages settings. \"\"\"\n     filename = make_filename_from_project(config.project)\n", "occurrence": 1, "normalized_patch": "diff --git a/sphinx/builders/manpage.py b/sphinx/builders/manpage.py\nindex c2eb81a..75747c0 100644\n--- a/sphinx/builders/manpage.py\n+++ b/sphinx/builders/manpage.py\n@@ -50,7 +50,9 @@ class ManualPageBuilder(Builder):\n             docsettings.section = section\n             targetname = '%s.%s' % (name, section)\n             logger.info(darkgreen(targetname) + ' { ', nonl=True)\n-            destination = FileOutput(destination_path=path.join(self.outdir, targetname), encoding='utf-8')\n+            section_dir = path.join(self.outdir, f'man{section}')\n+            ensuredir(section_dir)\n+            destination = FileOutput(destination_path=path.join(section_dir, targetname), destination_path=path.join(self.outdir, targetname), encoding='utf-8')\n             tree = self.env.get_doctree(docname)\n             docnames = set()\n             largetree = inline_all_toctrees(self, docnames, docname, tree, darkgreen, [docname])\n@@ -62,6 +64,8 @@ class ManualPageBuilder(Builder):\n             docwriter.write(largetree, destination)\n     def finish(self) -> None:\n         pass\n+from sphinx.util.osutil import ensuredir\n+...\n def default_man_pages(config: Config) -> List[Tuple[str, str, str, List[str], int]]:\n     filename = make_filename_from_project(config.project)\n     return [(config.master_doc, filename, '%s %s' % (config.project, config.release), [config.author], 1)]\n", "normalized_occurrence": 1}
