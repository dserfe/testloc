{"model_name_or_path": "agentless", "instance_id": "pallets__flask-5063", "model_patch": "diff --git a/src/flask/cli.py b/src/flask/cli.py\nindex 7de3e81..1ce59df 100644\n--- a/src/flask/cli.py\n+++ b/src/flask/cli.py\n@@ -997,8 +997,9 @@ def shell_command() -> None:\n     ),\n )\n @click.option(\"--all-methods\", is_flag=True, help=\"Show HEAD and OPTIONS methods.\")\n+@click.option(\"--show-subdomains\", is_flag=True, help=\"Show subdomains for routes.\")\n @with_appcontext\n-def routes_command(sort: str, all_methods: bool) -> None:\n+def routes_command(sort: str, all_methods: bool, show_subdomains: bool) -> None:\n     \"\"\"Show all registered routes with endpoints and methods.\"\"\"\n \n     rules = list(current_app.url_map.iter_rules())\n@@ -1018,20 +1019,41 @@ def routes_command(sort: str, all_methods: bool) -> None:\n         for rule in rules\n     ]\n \n-    headers = (\"Endpoint\", \"Methods\", \"Rule\")\n+    if show_subdomains:\n+        headers = (\"Domain\", \"Endpoint\", \"Methods\", \"Rule\")\n+        widths = (\n+            max(len(rule.subdomain or \"test.local\") for rule in rules),\n+            max(len(rule.endpoint) for rule in rules),\n+            max(len(methods) for methods in rule_methods),\n+            max(len(rule.rule) for rule in rules),\n+        )\n+    else:\n+        headers = (\"Endpoint\", \"Methods\", \"Rule\")\n+        widths = (\n+            max(len(rule.endpoint) for rule in rules),\n+            max(len(methods) for methods in rule_methods),\n+            max(len(rule.rule) for rule in rules),\n+        )\n     widths = (\n         max(len(rule.endpoint) for rule in rules),\n         max(len(methods) for methods in rule_methods),\n         max(len(rule.rule) for rule in rules),\n     )\n     widths = [max(len(h), w) for h, w in zip(headers, widths)]\n-    row = \"{{0:<{0}}}  {{1:<{1}}}  {{2:<{2}}}\".format(*widths)\n+    if show_subdomains:\n+        row = \"{{0:<{0}}}  {{1:<{1}}}  {{2:<{2}}}  {{3:<{3}}}\".format(*widths)\n+    else:\n+        row = \"{{0:<{0}}}  {{1:<{1}}}  {{2:<{2}}}\".format(*widths)\n \n     click.echo(row.format(*headers).strip())\n     click.echo(row.format(*(\"-\" * width for width in widths)))\n \n     for rule, methods in zip(rules, rule_methods):\n-        click.echo(row.format(rule.endpoint, methods, rule.rule).rstrip())\n+        if show_subdomains:\n+            domain = rule.subdomain or \"test.local\"\n+            click.echo(row.format(domain, rule.endpoint, methods, rule.rule).rstrip())\n+        else:\n+            click.echo(row.format(rule.endpoint, methods, rule.rule).rstrip())\n \n \n cli = FlaskGroup(\n", "occurrence": 1, "normalized_patch": "diff --git a/src/flask/cli.py b/src/flask/cli.py\nindex fe39489..eb04aa0 100644\n--- a/src/flask/cli.py\n+++ b/src/flask/cli.py\n@@ -575,8 +575,9 @@ def shell_command() -> None:\n @click.command('routes', short_help='Show the routes for the app.')\n @click.option('--sort', '-s', type=click.Choice(('endpoint', 'methods', 'rule', 'match')), default='endpoint', help='Method to sort routes by. \"match\" is the order that Flask will match routes when dispatching a request.')\n @click.option('--all-methods', is_flag=True, help='Show HEAD and OPTIONS methods.')\n+@click.option('--show-subdomains', is_flag=True, help='Show subdomains for routes.')\n @with_appcontext\n-def routes_command(sort: str, all_methods: bool) -> None:\n+def routes_command(sort: str, all_methods: bool, show_subdomains: bool) -> None:\n     \"\"\"Show all registered routes with endpoints and methods.\"\"\"\n     rules = list(current_app.url_map.iter_rules())\n     if not rules:\n@@ -588,14 +589,26 @@ def routes_command(sort: str, all_methods: bool) -> None:\n     elif sort == 'methods':\n         rules = sorted(rules, key=lambda rule: sorted(rule.methods))\n     rule_methods = [', '.join(sorted(rule.methods - ignored_methods)) for rule in rules]\n-    headers = ('Endpoint', 'Methods', 'Rule')\n+    if show_subdomains:\n+        headers = ('Domain', 'Endpoint', 'Methods', 'Rule')\n+        widths = (max((len(rule.subdomain or 'test.local') for rule in rules)), max((len(rule.endpoint) for rule in rules)), max((len(methods) for methods in rule_methods)), max((len(rule.rule) for rule in rules)))\n+    else:\n+        headers = ('Endpoint', 'Methods', 'Rule')\n+        widths = (max((len(rule.endpoint) for rule in rules)), max((len(methods) for methods in rule_methods)), max((len(rule.rule) for rule in rules)))\n     widths = (max((len(rule.endpoint) for rule in rules)), max((len(methods) for methods in rule_methods)), max((len(rule.rule) for rule in rules)))\n     widths = [max(len(h), w) for h, w in zip(headers, widths)]\n-    row = '{{0:<{0}}}  {{1:<{1}}}  {{2:<{2}}}'.format(*widths)\n+    if show_subdomains:\n+        row = '{{0:<{0}}}  {{1:<{1}}}  {{2:<{2}}}  {{3:<{3}}}'.format(*widths)\n+    else:\n+        row = '{{0:<{0}}}  {{1:<{1}}}  {{2:<{2}}}'.format(*widths)\n     click.echo(row.format(*headers).strip())\n     click.echo(row.format(*('-' * width for width in widths)))\n     for rule, methods in zip(rules, rule_methods):\n-        click.echo(row.format(rule.endpoint, methods, rule.rule).rstrip())\n+        if show_subdomains:\n+            domain = rule.subdomain or 'test.local'\n+            click.echo(row.format(domain, rule.endpoint, methods, rule.rule).rstrip())\n+        else:\n+            click.echo(row.format(rule.endpoint, methods, rule.rule).rstrip())\n cli = FlaskGroup(name='flask', help=\"A general utility script for Flask applications.\\n\\nAn application to load must be given with the '--app' option,\\n'FLASK_APP' environment variable, or with a 'wsgi.py' or 'app.py' file\\nin the current directory.\\n\")\n \n def main() -> None:\n", "normalized_occurrence": 1}
