{"model_name_or_path": "agentless", "instance_id": "mwaskom__seaborn-3407", "model_patch": "diff --git a/seaborn/axisgrid.py b/seaborn/axisgrid.py\nindex 29c361e..3b694e7 100644\n--- a/seaborn/axisgrid.py\n+++ b/seaborn/axisgrid.py\n@@ -2109,6 +2109,10 @@ def pairplot(\n         else:\n             diag_kind = \"hist\" if kind == \"hist\" else \"kde\"\n \n+    # Handle MultiIndex columns by flattening them\n+    if isinstance(data.columns, pd.MultiIndex):\n+        data.columns = ['_'.join(map(str, col)).strip() for col in data.columns]\n+\n     # Set up the PairGrid\n     grid_kws.setdefault(\"diag_sharey\", diag_kind == \"hist\")\n     grid = PairGrid(data, vars=vars, x_vars=x_vars, y_vars=y_vars, hue=hue,\n", "occurrence": 1, "normalized_patch": "diff --git a/seaborn/axisgrid.py b/seaborn/axisgrid.py\nindex 039b44a..00b7c45 100644\n--- a/seaborn/axisgrid.py\n+++ b/seaborn/axisgrid.py\n@@ -938,6 +938,8 @@ def pairplot(data, *, hue=None, hue_order=None, palette=None, vars=None, x_vars=\n             diag_kind = 'kde' if kind == 'kde' else 'hist'\n         else:\n             diag_kind = 'hist' if kind == 'hist' else 'kde'\n+    if isinstance(data.columns, pd.MultiIndex):\n+        data.columns = ['_'.join(map(str, col)).strip() for col in data.columns]\n     grid_kws.setdefault('diag_sharey', diag_kind == 'hist')\n     grid = PairGrid(data, vars=vars, x_vars=x_vars, y_vars=y_vars, hue=hue, hue_order=hue_order, palette=palette, corner=corner, height=height, aspect=aspect, dropna=dropna, **grid_kws)\n     if markers is not None:\n", "normalized_occurrence": 1}
