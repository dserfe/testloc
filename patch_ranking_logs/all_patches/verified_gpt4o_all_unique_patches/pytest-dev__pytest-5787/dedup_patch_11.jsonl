{"model_name_or_path": "agentless", "instance_id": "pytest-dev__pytest-5787", "model_patch": "diff --git a/src/_pytest/reports.py b/src/_pytest/reports.py\nindex ba95b0e..4287909 100644\n--- a/src/_pytest/reports.py\n+++ b/src/_pytest/reports.py\n@@ -366,7 +366,7 @@ class TestReport(BaseReport):\n                     )\n         for rwhen, key, content in item._report_sections:\n             sections.append((\"Captured {} {}\".format(key, rwhen), content))\n-        return cls(\n+        report = cls(\n             item.nodeid,\n             item.location,\n             keywords,\n@@ -412,8 +412,13 @@ def pytest_report_to_serializable(report):\n     if isinstance(report, (TestReport, CollectReport)):\n         data = report._to_json()\n         data[\"_report_type\"] = report.__class__.__name__\n+        if hasattr(report, \"_longrepr_chain\"):\n+            data[\"_longrepr_chain\"] = [repr(chain) for chain in report._longrepr_chain]\n         return data\n \n+    if \"_longrepr_chain\" in data:\n+        report._longrepr_chain = [eval(chain) for chain in data[\"_longrepr_chain\"]]\n+\n \n def pytest_report_from_serializable(data):\n     if \"_report_type\" in data:\n", "occurrence": 1, "normalized_patch": "diff --git a/src/_pytest/reports.py b/src/_pytest/reports.py\nindex 3292df7..32cfdf1 100644\n--- a/src/_pytest/reports.py\n+++ b/src/_pytest/reports.py\n@@ -185,7 +185,7 @@ class TestReport(BaseReport):\n                 longrepr = item._repr_failure_py(excinfo, style=item.config.getoption('tbstyle', 'auto'))\n         for rwhen, key, content in item._report_sections:\n             sections.append(('Captured {} {}'.format(key, rwhen), content))\n-        return cls(item.nodeid, item.location, keywords, outcome, longrepr, when, sections, duration, user_properties=item.user_properties)\n+        report = cls(item.nodeid, item.location, keywords, outcome, longrepr, when, sections, duration, user_properties=item.user_properties)\n class CollectReport(BaseReport):\n     when = 'collect'\n     def __init__(self, nodeid, outcome, longrepr, result, sections=(), **extra):\n@@ -209,7 +209,11 @@ def pytest_report_to_serializable(report):\n     if isinstance(report, (TestReport, CollectReport)):\n         data = report._to_json()\n         data['_report_type'] = report.__class__.__name__\n+        if hasattr(report, '_longrepr_chain'):\n+            data['_longrepr_chain'] = [repr(chain) for chain in report._longrepr_chain]\n         return data\n+    if '_longrepr_chain' in data:\n+        report._longrepr_chain = [eval(chain) for chain in data['_longrepr_chain']]\n def pytest_report_from_serializable(data):\n     if '_report_type' in data:\n         if data['_report_type'] == 'TestReport':\n", "normalized_occurrence": 1}
